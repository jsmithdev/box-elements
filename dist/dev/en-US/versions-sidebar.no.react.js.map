{"version":3,"sources":["webpack:///./node_modules/lodash/debounce.js","webpack:///./node_modules/lodash/now.js","webpack:///./src/components/close-button/CloseButton.scss","webpack:///./src/components/close-button/CloseButton.tsx","webpack:///./src/components/primary-button/PrimaryButton.tsx","webpack:///./src/components/time/index.js","webpack:///./src/elements/content-sidebar/versions/StaticVersionSidebar.js","webpack:///./src/elements/content-sidebar/versions/StaticVersionsSidebar.scss","webpack:///./src/elements/content-sidebar/versions/VersionsGroup.js","webpack:///./src/elements/content-sidebar/versions/VersionsGroup.scss","webpack:///./src/elements/content-sidebar/versions/VersionsItem.js","webpack:///./src/elements/content-sidebar/versions/VersionsItem.scss","webpack:///./src/elements/content-sidebar/versions/VersionsItemAction.js","webpack:///./src/elements/content-sidebar/versions/VersionsItemAction.scss","webpack:///./src/elements/content-sidebar/versions/VersionsItemActions.js","webpack:///./src/elements/content-sidebar/versions/VersionsItemActions.scss","webpack:///./src/elements/content-sidebar/versions/VersionsItemBadge.js","webpack:///./src/elements/content-sidebar/versions/VersionsItemBadge.scss","webpack:///./src/elements/content-sidebar/versions/VersionsItemButton.js","webpack:///./src/elements/content-sidebar/versions/VersionsItemButton.scss","webpack:///./src/elements/content-sidebar/versions/VersionsItemRetention.js","webpack:///./src/elements/content-sidebar/versions/VersionsList.js","webpack:///./src/elements/content-sidebar/versions/VersionsList.scss","webpack:///./src/elements/content-sidebar/versions/VersionsMenu.js","webpack:///./src/elements/content-sidebar/versions/VersionsMenu.scss","webpack:///./src/elements/content-sidebar/versions/VersionsSidebar.js","webpack:///./src/elements/content-sidebar/versions/VersionsSidebar.scss","webpack:///./src/elements/content-sidebar/versions/VersionsSidebarAPI.js","webpack:///./src/elements/content-sidebar/versions/VersionsSidebarContainer.js","webpack:///./src/elements/content-sidebar/versions/index.js","webpack:///./src/elements/content-sidebar/versions/messages.js","webpack:///./src/icons/general/IconClockPast.tsx","webpack:///./src/icons/general/IconClose.tsx","webpack:///./src/icons/general/IconDownload.tsx","webpack:///./src/icons/general/IconOpenWith.tsx","webpack:///./src/icons/general/IconUpload.tsx","webpack:///./src/illustration/BoxDrive140.tsx","webpack:///./src/utils/iframe.js","webpack:///./src/utils/size.js"],"names":["CloseButton","className","onClick","classNames","ButtonType","BUTTON","bdlGray62","PrimaryButton","children","rest","StaticVersionsSidebar","isLoading","onUpgradeClick","parentName","versionTimestamp","Date","setDate","getDate","versions","map","versionNumber","id","version_number","type","permissions","can_preview","created_at","toUTCString","modified_by","size","trashed_at","uploader_display_name","messages","versionsTitle","versionUpgradeLink","versionUpsell","upgradeButton","VersionsGroup","heading","ACTION_MAP","VERSION_DELETE_ACTION","versionDeletedBy","VERSION_RESTORE_ACTION","versionRestoredBy","VERSION_PROMOTE_ACTION","versionPromotedBy","VERSION_UPLOAD_ACTION","versionUploadedBy","FILE_EXTENSIONS_OFFICE","FIVE_MINUTES_MS","VersionsItem","fileId","isCurrent","isSelected","isWatermarked","onDelete","onDownload","onPreview","onPromote","onRestore","version","versionCount","versionLimit","createdAt","extension","versionId","is_download_available","restored_at","restoredAt","retention","trashedAt","version_promoted","versionPromoted","can_delete","can_download","can_upload","applied_at","retentionAppliedAt","disposition_at","retentionDispositionAt","retentionDispositionAtDate","versionAction","selectors","getVersionAction","versionInteger","parseInt","versionTime","getTime","versionUserName","getVersionUser","name","versionUserUnknown","versionDisplayName","FILE_REQUEST_NAME","fileRequestDisplayName","isDeleted","isDownloadable","isLimited","isOffice","includes","isRestricted","isRetained","canPreview","showDelete","showDownload","showPromote","showRestore","showPreview","hasActions","handleAction","handler","versionCurrent","sizeUtil","versionLimitExceeded","VersionsItemAction","action","handleMenuClose","event","stopPropagation","handleToggleClick","VersionsItemActions","versionActionToggle","text","versionActionPreview","versionActionDownload","versionActionPromote","versionActionRestore","versionActionDisabledRetention","versionActionDelete","VersionsItemBadge","intl","intlValues","formatMessage","versionNumberLabel","versionNumberBadge","injectIntl","VersionsItemButton","React","buttonRef","props","scrollIntoView","componentDidMount","setScroll","componentDidUpdate","prevIsSelected","render","isDisabled","buttonClassName","setButtonRef","RETENTION_MAP","VERSION_RETENTION_DELETE_ACTION","versionRetentionDelete","VERSION_RETENTION_REMOVE_ACTION","versionRetentionRemove","VersionsItemRetention","dispositionAt","winning_retention_policy","retentionPolicy","disposition_action","dispositionAction","retention_length","retentionLength","dispositionAtTime","VERSION_RETENTION_INDEFINITE","versionRetentionIndefinite","time","VersionsList","currentId","match","params","getHeading","currentDate","currentDay","getDay","currentSunday","createdAtDate","util","versionsToday","versionsYesterday","formatDate","year","month","versionsThisMonth","versionsPriorWeek","weekday","VersionsMenu","memo","versionGroups","reduce","groups","currentGroup","last","groupHeading","push","groupVersions","MAX_VERSIONS","DEFAULT_FETCH_END","VersionsSidebar","error","showLimit","length","showVersions","showEmpty","showError","versionServerError","versionsEmpty","versionMaxEntries","maxVersions","VersionsSidebarAPI","constructor","api","Promise","all","fetchFile","fetchVersions","then","fetchVersionCurrent","resolve","reject","Error","getFileAPI","getDownloadUrl","getFile","fields","FILE_VERSION_FIELDS_TO_FETCH","forceFetch","getVersionsAPI","getVersions","fileResponse","versionsResponse","file_version","getVersion","currentVersionResponse","addCurrentVersion","deleteVersion","successCallback","errorCallback","promoteVersion","restoreVersion","VersionsSidebarContainer","Component","Infinity","window","setState","findVersion","fetchVersion","handleDeleteSuccess","onVersionDelete","catch","handleActionError","versionActionDeleteError","fetchDownloadUrl","openUrlInsideIframe","onVersionDownload","versionActionDownloadError","updateVersion","onVersionPreview","fetchData","handleFetchSuccess","handlePromoteSuccess","onVersionPromote","versionActionPromoteError","handleRestoreSuccess","onVersionRestore","versionActionRestoreError","message","data","selectedVersionId","mergeResponse","updateVersionToCurrent","versionFetchError","version_limit","getProp","undefined","versionsWithPermissions","addPermissions","entries","total_count","sortVersions","verifyVersion","file","fileVersion","handleFetchError","state","find","newVersion","newVersionId","merge","newVersions","mergeVersions","history","generatePath","path","getCurrentVersionId","onVersionChange","selectedVersion","currentVersionId","onLoad","initialize","component","feature","prevFileId","prevVersionId","refresh","componentWillUnmount","sort","a","b","parse","handleActionDelete","handleActionDownload","handleActionPreview","handleActionPromote","handleActionRestore","noop","flow","withRouter","withAPIContext","defineMessages","versionNotAvailable","IconClockPast","color","height","title","width","IconClose","IconDownload","bdlGray80","IconOpenWith","IconUpload","BoxDrive140","vars","createDownloadIframe","iframe","document","querySelector","createElement","setAttribute","style","display","body","appendChild","contentDocument","write","url","src","kilo","decimals","sizes","exp","Math","floor","log","parseFloat","toFixed"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,eAAe,mBAAO,CAAC,qDAAY;AACnC,UAAU,mBAAO,CAAC,2CAAO;AACzB,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,WAAW,OAAO,YAAY;AAC9B,WAAW,QAAQ;AACnB;AACA,WAAW,OAAO;AAClB;AACA,WAAW,QAAQ;AACnB;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,8CAA8C,kBAAkB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC9LA,WAAW,mBAAO,CAAC,+CAAS;;AAE5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,I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","file":"versions-sidebar.no.react.js","sourcesContent":["var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","// extracted by mini-css-extract-plugin","import * as React from 'react';\nimport classNames from 'classnames';\n\nimport Button, { ButtonType } from '../button';\nimport IconClose from '../../icons/general/IconClose';\nimport { bdlGray62 } from '../../styles/variables';\n\nimport './CloseButton.scss';\n\nexport interface CloseButtonProps {\n    /** Custom class for the close button */\n    className?: string;\n    /** onClick handler for the close button */\n    onClick?: Function;\n}\n\nconst CloseButton = ({ className, onClick }: CloseButtonProps) => {\n    return (\n        <Button\n            className={classNames('bdl-CloseButton', className)}\n            data-testid=\"bdl-CloseButton\"\n            onClick={onClick}\n            type={ButtonType.BUTTON}\n        >\n            <IconClose color={bdlGray62} height={18} width={18} />\n        </Button>\n    );\n};\n\nexport default CloseButton;\n","import * as React from 'react';\nimport Button, { ButtonProps } from '../button/Button';\n\nconst PrimaryButton = ({ children, className = '', ...rest }: Partial<ButtonProps>) => (\n    <Button className={`btn-primary ${className}`} {...rest}>\n        {children}\n    </Button>\n);\n\nexport default PrimaryButton;\n","// @flow\n// eslint-disable-next-line import/prefer-default-export\nexport { default as ReadableTime } from './ReadableTime';\n","/**\n * @flow\n * @file Static Versions Sidebar component\n * @author Box\n */\n\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\n\nimport BoxDrive140 from '../../../illustration/BoxDrive140';\n\nimport { BackButton } from '../../common/nav-button';\nimport PrimaryButton from '../../../components/primary-button';\nimport { LoadingIndicatorWrapper } from '../../../components/loading-indicator';\nimport VersionsMenu from './VersionsMenu';\n\nimport messages from './messages';\n\nimport './StaticVersionsSidebar.scss';\n\ntype Props = {\n    isLoading: boolean,\n    onUpgradeClick: () => void,\n    parentName: string,\n};\n\nconst StaticVersionsSidebar = ({ isLoading, onUpgradeClick, parentName }: Props): React.Node => {\n    const versionTimestamp = new Date();\n    versionTimestamp.setDate(versionTimestamp.getDate() - 1);\n\n    const versions = ['1', '2', '3'].map(versionNumber => {\n        return {\n            id: versionNumber,\n            version_number: versionNumber,\n            type: 'file_version',\n            permissions: {\n                can_preview: true,\n            },\n            created_at: versionTimestamp.toUTCString(),\n            modified_by: null,\n            size: 1875887,\n            trashed_at: null,\n            uploader_display_name: 'John Doe',\n        };\n    });\n\n    return (\n        <div\n            className=\"bcs-StaticVersionSidebar\"\n            role=\"tabpanel\"\n            data-resin-component=\"preview\"\n            data-resin-feature=\"versions\"\n        >\n            <div className=\"bcs-StaticVersionSidebar-header\">\n                <h3 className=\"bcs-StaticVersionSidebar-title\">\n                    <>\n                        <BackButton data-resin-target=\"back\" to={`/${parentName}`} />\n                        <FormattedMessage {...messages.versionsTitle} />\n                    </>\n                </h3>\n            </div>\n\n            <div className=\"bcs-StaticVersionSidebar-content-wrapper\">\n                <LoadingIndicatorWrapper\n                    className=\"bcs-StaticVersionSidebar-content\"\n                    crawlerPosition=\"top\"\n                    isLoading={isLoading}\n                >\n                    <VersionsMenu versions={versions} fileId=\"1\" versionCount={3} versionLimit={3} />\n                </LoadingIndicatorWrapper>\n            </div>\n\n            <div className=\"bcs-StaticVersionSidebar-upsell-wrapper\">\n                <div className=\"bcs-StaticVersionSidebar-upsell\">\n                    <BoxDrive140 className=\"bcs-StaticVersionSidebar-upsell-icon\" />\n                    <p className=\"bcs-StaticVersionSidebar-upsell-header\">\n                        <FormattedMessage {...messages.versionUpgradeLink} />\n                    </p>\n                    <p>\n                        <FormattedMessage {...messages.versionUpsell} />\n                    </p>\n                    <PrimaryButton\n                        className=\"bcs-StaticVersionSidebar-upsell-button\"\n                        data-resin-target=\"versioning_error_upgrade_cta\"\n                        onClick={onUpgradeClick}\n                        type=\"button\"\n                    >\n                        <FormattedMessage {...messages.upgradeButton} />\n                    </PrimaryButton>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default StaticVersionsSidebar;\n","// extracted by mini-css-extract-plugin","/**\n * @flow\n * @file Versions Group component\n * @author Box\n */\n\nimport React from 'react';\nimport VersionsList from './VersionsList';\nimport type { BoxItemVersion } from '../../../common/types/core';\nimport './VersionsGroup.scss';\n\ntype Props = {\n    fileId: string,\n    heading: string,\n    versionCount: number,\n    versionLimit: number,\n    versions: Array<BoxItemVersion>,\n};\n\nconst VersionsGroup = ({ heading, ...rest }: Props) => {\n    return (\n        <section className=\"bcs-VersionsGroup\">\n            <h4 className=\"bcs-VersionsGroup-heading\">{heading}</h4>\n            <VersionsList {...rest} />\n        </section>\n    );\n};\n\nexport default VersionsGroup;\n","// extracted by mini-css-extract-plugin","/**\n * @flow\n * @file Versions Item component\n * @author Box\n */\n\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport messages from './messages';\nimport selectors from '../../common/selectors/version';\nimport sizeUtil from '../../../utils/size';\nimport VersionsItemActions from './VersionsItemActions';\nimport VersionsItemButton from './VersionsItemButton';\nimport VersionsItemBadge from './VersionsItemBadge';\nimport VersionsItemRetention from './VersionsItemRetention';\nimport { ReadableTime } from '../../../components/time';\nimport {\n    FILE_REQUEST_NAME,\n    VERSION_DELETE_ACTION,\n    VERSION_PROMOTE_ACTION,\n    VERSION_RESTORE_ACTION,\n    VERSION_UPLOAD_ACTION,\n} from '../../../constants';\nimport type { BoxItemVersion } from '../../../common/types/core';\nimport type { VersionActionCallback } from './flowTypes';\nimport './VersionsItem.scss';\n\ntype Props = {\n    fileId: string,\n    isCurrent?: boolean,\n    isSelected?: boolean,\n    isWatermarked?: boolean,\n    onDelete?: VersionActionCallback,\n    onDownload?: VersionActionCallback,\n    onPreview?: VersionActionCallback,\n    onPromote?: VersionActionCallback,\n    onRestore?: VersionActionCallback,\n    version: BoxItemVersion,\n    versionCount: number,\n    versionLimit: number,\n};\n\nconst ACTION_MAP = {\n    [VERSION_DELETE_ACTION]: messages.versionDeletedBy,\n    [VERSION_RESTORE_ACTION]: messages.versionRestoredBy,\n    [VERSION_PROMOTE_ACTION]: messages.versionPromotedBy,\n    [VERSION_UPLOAD_ACTION]: messages.versionUploadedBy,\n};\nconst FILE_EXTENSIONS_OFFICE = ['xlsb', 'xlsm', 'xlsx'];\nconst FIVE_MINUTES_MS = 5 * 60 * 1000;\n\nconst VersionsItem = ({\n    fileId,\n    isCurrent = false,\n    isSelected = false,\n    isWatermarked = false,\n    onDelete,\n    onDownload,\n    onPreview,\n    onPromote,\n    onRestore,\n    version,\n    versionCount,\n    versionLimit,\n}: Props) => {\n    const {\n        created_at: createdAt,\n        extension,\n        id: versionId,\n        is_download_available,\n        permissions = {},\n        restored_at: restoredAt,\n        retention,\n        size,\n        trashed_at: trashedAt,\n        version_number: versionNumber,\n        version_promoted: versionPromoted,\n    } = version;\n    const { can_delete, can_download, can_preview, can_upload } = permissions;\n    const { applied_at: retentionAppliedAt, disposition_at: retentionDispositionAt } = retention || {};\n    const retentionDispositionAtDate = retentionDispositionAt && new Date(retentionDispositionAt);\n\n    // Version info helpers\n    const versionAction = selectors.getVersionAction(version);\n    const versionInteger = versionNumber ? parseInt(versionNumber, 10) : 1;\n    const versionTime = restoredAt || trashedAt || createdAt;\n    const versionTimestamp = versionTime && new Date(versionTime).getTime();\n    const versionUserName = selectors.getVersionUser(version).name || (\n        <FormattedMessage {...messages.versionUserUnknown} />\n    );\n    const versionDisplayName =\n        versionUserName !== FILE_REQUEST_NAME ? (\n            versionUserName\n        ) : (\n            <FormattedMessage {...messages.fileRequestDisplayName} />\n        );\n    // Version state helpers\n    const isDeleted = versionAction === VERSION_DELETE_ACTION;\n    const isDownloadable = !!is_download_available;\n    const isLimited = versionCount - versionInteger >= versionLimit;\n    const isOffice = FILE_EXTENSIONS_OFFICE.includes(extension);\n    const isRestricted = (isOffice || isWatermarked) && !isCurrent;\n    const isRetained = !!retentionAppliedAt && (!retentionDispositionAtDate || retentionDispositionAtDate > new Date());\n\n    // Version action helpers\n    const canPreview = can_preview && !isDeleted && !isLimited && !isRestricted;\n    const showDelete = can_delete && !isDeleted && !isCurrent;\n    const showDownload = can_download && !isDeleted && isDownloadable;\n    const showPromote = can_upload && !isDeleted && !isCurrent;\n    const showRestore = can_delete && isDeleted;\n    const showPreview = canPreview && !isSelected;\n    const hasActions = showDelete || showDownload || showPreview || showPromote || showRestore;\n\n    // Version action callback helper\n    const handleAction = (handler?: VersionActionCallback) => (): void => {\n        if (handler) {\n            handler(versionId);\n        }\n    };\n\n    return (\n        <div className=\"bcs-VersionsItem\">\n            <VersionsItemButton\n                fileId={fileId}\n                isCurrent={isCurrent}\n                isDisabled={!canPreview}\n                isSelected={isSelected}\n                onClick={handleAction(onPreview)}\n            >\n                <div className=\"bcs-VersionsItem-badge\">\n                    <VersionsItemBadge versionNumber={versionNumber} />\n                </div>\n\n                <div className=\"bcs-VersionsItem-details\">\n                    {isCurrent && (\n                        <div className=\"bcs-VersionsItem-current\">\n                            <FormattedMessage {...messages.versionCurrent} />\n                        </div>\n                    )}\n\n                    <div className=\"bcs-VersionsItem-log\" data-testid=\"bcs-VersionsItem-log\" title={versionDisplayName}>\n                        <FormattedMessage\n                            {...ACTION_MAP[versionAction]}\n                            values={{ name: versionDisplayName, versionPromoted }}\n                        />\n                    </div>\n\n                    <div className=\"bcs-VersionsItem-info\">\n                        {versionTimestamp && (\n                            <time className=\"bcs-VersionsItem-date\" dateTime={versionTime}>\n                                <ReadableTime\n                                    alwaysShowTime\n                                    relativeThreshold={FIVE_MINUTES_MS}\n                                    timestamp={versionTimestamp}\n                                />\n                            </time>\n                        )}\n                        {!!size && <span className=\"bcs-VersionsItem-size\">{sizeUtil(size)}</span>}\n                    </div>\n\n                    {isRetained && (\n                        <div className=\"bcs-VersionsItem-retention\">\n                            <VersionsItemRetention retention={retention} />\n                        </div>\n                    )}\n\n                    {isLimited && hasActions && (\n                        <div className=\"bcs-VersionsItem-footer\">\n                            <FormattedMessage {...messages.versionLimitExceeded} values={{ versionLimit }} />\n                        </div>\n                    )}\n                </div>\n            </VersionsItemButton>\n\n            {!isLimited && hasActions && (\n                <VersionsItemActions\n                    fileId={fileId}\n                    isCurrent={isCurrent}\n                    isRetained={isRetained}\n                    onDelete={handleAction(onDelete)}\n                    onDownload={handleAction(onDownload)}\n                    onPreview={handleAction(onPreview)}\n                    onPromote={handleAction(onPromote)}\n                    onRestore={handleAction(onRestore)}\n                    showDelete={showDelete}\n                    showDownload={showDownload}\n                    showPreview={showPreview}\n                    showPromote={showPromote}\n                    showRestore={showRestore}\n                />\n            )}\n        </div>\n    );\n};\nexport default VersionsItem;\n","// extracted by mini-css-extract-plugin","/**\n * @flow strict\n * @file Versions Item Action component\n * @author Box\n */\n\nimport * as React from 'react';\nimport { MenuItem } from '../../../components/menu';\nimport './VersionsItemAction.scss';\n\ntype Props = {\n    action: string,\n    children: React.Node,\n    fileId: string,\n    isCurrent: boolean,\n};\n\nconst VersionsItemAction = ({ action, children, fileId, isCurrent, ...rest }: Props) => (\n    <MenuItem\n        className=\"bcs-VersionsItemAction\"\n        data-resin-iscurrent={isCurrent}\n        data-resin-itemid={fileId}\n        data-resin-target={action}\n        {...rest}\n    >\n        {children}\n    </MenuItem>\n);\n\nexport default VersionsItemAction;\n","// extracted by mini-css-extract-plugin","/**\n * @flow\n * @file Versions Item Actions component\n * @author Box\n */\n\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport DropdownMenu from '../../../components/dropdown-menu';\nimport IconClockPast from '../../../icons/general/IconClockPast';\nimport IconDownload from '../../../icons/general/IconDownload';\nimport IconEllipsis from '../../../icons/general/IconEllipsis';\nimport IconOpenWith from '../../../icons/general/IconOpenWith';\nimport IconTrash from '../../../icons/general/IconTrash';\nimport IconUpload from '../../../icons/general/IconUpload';\nimport messages from './messages';\nimport PlainButton from '../../../components/plain-button';\nimport Tooltip from '../../../components/tooltip/Tooltip';\nimport VersionsItemAction from './VersionsItemAction';\nimport { Menu } from '../../../components/menu';\nimport './VersionsItemActions.scss';\n\ntype Props = {\n    fileId: string,\n    isCurrent?: boolean,\n    isRetained?: boolean,\n    onDelete?: () => void,\n    onDownload?: () => void,\n    onPreview?: () => void,\n    onPromote?: () => void,\n    onRestore?: () => void,\n    showDelete?: boolean,\n    showDownload?: boolean,\n    showPreview?: boolean,\n    showPromote?: boolean,\n    showRestore?: boolean,\n};\n\nconst handleMenuClose = (event: SyntheticEvent<> | MouseEvent) => {\n    event.stopPropagation();\n};\n\nconst handleToggleClick = (event: SyntheticMouseEvent<HTMLButtonElement>) => {\n    event.stopPropagation();\n};\n\nconst VersionsItemActions = ({\n    fileId,\n    isCurrent = false,\n    isRetained = false,\n    onDelete,\n    onDownload,\n    onPreview,\n    onPromote,\n    onRestore,\n    showDelete = false,\n    showDownload = false,\n    showPreview = false,\n    showPromote = false,\n    showRestore = false,\n}: Props) => {\n    if (!showDelete && !showDownload && !showPreview && !showPromote && !showRestore) {\n        return null;\n    }\n\n    return (\n        <DropdownMenu\n            className=\"bcs-VersionsItemActions\"\n            constrainToScrollParent\n            constrainToWindow\n            isRightAligned\n            onMenuClose={handleMenuClose}\n        >\n            <PlainButton\n                className=\"bcs-VersionsItemActions-toggle\"\n                data-resin-iscurrent={isCurrent}\n                data-resin-itemid={fileId}\n                data-resin-target=\"overflow\"\n                onClick={handleToggleClick}\n                type=\"button\"\n            >\n                <IconEllipsis height={4} width={14} />\n                <FormattedMessage {...messages.versionActionToggle}>\n                    {(text: string) => <span className=\"accessibility-hidden\">{text}</span>}\n                </FormattedMessage>\n            </PlainButton>\n\n            <Menu\n                className=\"bcs-VersionsItemActions-menu\"\n                data-resin-component=\"preview\" // Needed for resin events due to tether moving menu to body\n                data-resin-feature=\"versions\" // Needed for resin events due to tether moving menu to body\n            >\n                {showPreview && (\n                    <VersionsItemAction action=\"preview\" fileId={fileId} isCurrent={isCurrent} onClick={onPreview}>\n                        <IconOpenWith />\n                        <FormattedMessage {...messages.versionActionPreview} />\n                    </VersionsItemAction>\n                )}\n\n                {showDownload && (\n                    <VersionsItemAction action=\"download\" fileId={fileId} isCurrent={isCurrent} onClick={onDownload}>\n                        <IconDownload />\n                        <FormattedMessage {...messages.versionActionDownload} />\n                    </VersionsItemAction>\n                )}\n                {showPromote && (\n                    <VersionsItemAction action=\"promote\" fileId={fileId} isCurrent={isCurrent} onClick={onPromote}>\n                        <IconUpload />\n                        <FormattedMessage {...messages.versionActionPromote} />\n                    </VersionsItemAction>\n                )}\n                {showRestore && (\n                    <VersionsItemAction action=\"restore\" fileId={fileId} isCurrent={isCurrent} onClick={onRestore}>\n                        <IconClockPast height={14} width={14} />\n                        <FormattedMessage {...messages.versionActionRestore} />\n                    </VersionsItemAction>\n                )}\n                {showDelete && (\n                    <Tooltip\n                        position=\"middle-left\"\n                        text={<FormattedMessage {...messages.versionActionDisabledRetention} />}\n                        isTabbable={false}\n                        isDisabled={!isRetained}\n                    >\n                        <VersionsItemAction\n                            action=\"remove\"\n                            fileId={fileId}\n                            isCurrent={isCurrent}\n                            isDisabled={isRetained}\n                            onClick={onDelete}\n                        >\n                            <IconTrash />\n                            <FormattedMessage {...messages.versionActionDelete} />\n                        </VersionsItemAction>\n                    </Tooltip>\n                )}\n            </Menu>\n        </DropdownMenu>\n    );\n};\n\nexport default VersionsItemActions;\n","// extracted by mini-css-extract-plugin","/**\n * @flow\n * @file Versions Item Badge component\n * @author Box\n */\nimport * as React from 'react';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport messages from './messages';\nimport './VersionsItemBadge.scss';\n\ntype Props = {\n    intl: any,\n    versionNumber: string,\n};\n\nconst VersionsItemBadge = ({ intl, versionNumber }: Props) => {\n    const intlValues = { versionNumber };\n\n    return (\n        <div aria-label={intl.formatMessage(messages.versionNumberLabel, intlValues)} className=\"bcs-VersionsItemBadge\">\n            <FormattedMessage {...messages.versionNumberBadge} values={intlValues} />\n        </div>\n    );\n};\n\nexport default injectIntl(VersionsItemBadge);\n","// extracted by mini-css-extract-plugin","/**\n * @flow\n * @file Versions Item Button component\n * @author Box\n */\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport PlainButton from '../../../components/plain-button';\nimport { scrollIntoView } from '../../../utils/dom';\nimport './VersionsItemButton.scss';\n\ntype Props = {\n    children: React.Node,\n    fileId: string,\n    isCurrent: boolean,\n    isDisabled: boolean,\n    isSelected: boolean,\n    onClick: (event: SyntheticMouseEvent<HTMLButtonElement>) => void,\n};\n\nclass VersionsItemButton extends React.Component<Props> {\n    static defaultProps = {\n        isCurrent: false,\n        isDisabled: false,\n        isSelected: false,\n    };\n\n    buttonRef: ?HTMLButtonElement;\n\n    componentDidMount() {\n        this.setScroll();\n    }\n\n    componentDidUpdate({ isSelected: prevIsSelected }: Props) {\n        const { isSelected } = this.props;\n\n        if (isSelected !== prevIsSelected) {\n            this.setScroll();\n        }\n    }\n\n    setButtonRef = (buttonRef: ?HTMLButtonElement): void => {\n        this.buttonRef = buttonRef;\n    };\n\n    setScroll = () => {\n        const { isSelected } = this.props;\n\n        if (this.buttonRef && isSelected) {\n            scrollIntoView(this.buttonRef);\n        }\n    };\n\n    render() {\n        const { children, fileId, isCurrent, isDisabled, isSelected, onClick } = this.props;\n        const buttonClassName = classNames('bcs-VersionsItemButton', {\n            'bcs-is-disabled': isDisabled,\n            'bcs-is-selected': isSelected && !isDisabled,\n        });\n\n        return (\n            <PlainButton\n                aria-disabled={isDisabled}\n                className={buttonClassName}\n                data-resin-iscurrent={isCurrent}\n                data-resin-itemid={fileId}\n                data-resin-target=\"select\"\n                data-testid=\"versions-item-button\"\n                getDOMRef={this.setButtonRef}\n                isDisabled={isDisabled}\n                onClick={onClick}\n                type=\"button\"\n            >\n                {children}\n            </PlainButton>\n        );\n    }\n}\n\nexport default VersionsItemButton;\n","// extracted by mini-css-extract-plugin","/**\n * @flow strict\n * @file Versions Item Retention component\n * @author Box\n */\n\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { ReadableTime } from '../../../components/time';\nimport {\n    VERSION_RETENTION_DELETE_ACTION,\n    VERSION_RETENTION_REMOVE_ACTION,\n    VERSION_RETENTION_INDEFINITE,\n} from '../../../constants';\nimport messages from './messages';\nimport type { BoxItemVersionRetention } from '../../../common/types/core';\n\ntype Props = {\n    retention?: BoxItemVersionRetention,\n};\n\nconst RETENTION_MAP = {\n    [VERSION_RETENTION_DELETE_ACTION]: messages.versionRetentionDelete,\n    [VERSION_RETENTION_REMOVE_ACTION]: messages.versionRetentionRemove,\n};\n\nconst VersionsItemRetention = ({ retention }: Props) => {\n    const { disposition_at: dispositionAt, winning_retention_policy: retentionPolicy } = retention || {};\n    const { disposition_action: dispositionAction, retention_length: retentionLength } = retentionPolicy || {};\n    const dispositionAtTime = dispositionAt && new Date(dispositionAt).getTime();\n\n    if (!dispositionAction) {\n        return null;\n    }\n\n    return retentionLength === VERSION_RETENTION_INDEFINITE || !dispositionAtTime ? (\n        <FormattedMessage {...messages.versionRetentionIndefinite} />\n    ) : (\n        <FormattedMessage\n            {...RETENTION_MAP[dispositionAction]}\n            values={{\n                time: <ReadableTime timestamp={dispositionAtTime} showWeekday />,\n            }}\n        />\n    );\n};\n\nexport default VersionsItemRetention;\n","/**\n * @flow\n * @file Versions List component\n * @author Box\n */\n\nimport React from 'react';\nimport { Route } from 'react-router-dom';\nimport VersionsItem from './VersionsItem';\nimport type { BoxItemVersion } from '../../../common/types/core';\nimport './VersionsList.scss';\n\ntype Props = {\n    currentId?: string,\n    fileId: string,\n    versionCount: number,\n    versionLimit: number,\n    versions: Array<BoxItemVersion>,\n};\n\nconst VersionsList = ({ currentId, versions, ...rest }: Props) => (\n    <ul className=\"bcs-VersionsList\">\n        {versions.map(version => (\n            <li className=\"bcs-VersionsList-item\" key={version.id}>\n                <Route\n                    render={({ match }) => (\n                        <VersionsItem\n                            isCurrent={currentId === version.id}\n                            isSelected={match.params.versionId === version.id}\n                            version={version}\n                            {...rest}\n                        />\n                    )}\n                />\n            </li>\n        ))}\n    </ul>\n);\n\nexport default VersionsList;\n","// extracted by mini-css-extract-plugin","/**\n * @flow\n * @file Versions Menu component\n * @author Box\n */\n\nimport React from 'react';\nimport last from 'lodash/last';\nimport { injectIntl } from 'react-intl';\nimport * as util from '../../../utils/datetime';\nimport messages from './messages';\nimport VersionsGroup from './VersionsGroup';\nimport type { BoxItemVersion } from '../../../common/types/core';\nimport './VersionsMenu.scss';\n\ntype Props = {\n    fileId: string,\n    intl: any,\n    versionCount: number,\n    versionLimit: number,\n    versions: Array<BoxItemVersion>,\n};\n\ntype VersionGroups = Array<{ groupHeading: string, groupVersions: Array<BoxItemVersion> }>;\n\nconst getHeading = ({ intl, version }: { intl: any, version: BoxItemVersion }): string => {\n    const { created_at: createdAt } = version;\n    const currentDate = new Date();\n    const currentDay = currentDate.getDay();\n    const currentSunday = currentDate.getDate() - currentDay;\n    const createdAtDate = util.convertToDate(createdAt);\n    let heading;\n\n    if (util.isToday(createdAtDate)) {\n        heading = intl.formatMessage(messages.versionsToday); // Today\n    } else if (util.isYesterday(createdAtDate)) {\n        heading = intl.formatMessage(messages.versionsYesterday); // Yesterday\n    } else if (!util.isCurrentYear(createdAtDate)) {\n        heading = intl.formatDate(createdAt, { year: 'numeric' }); // 2018\n    } else if (!util.isCurrentMonth(createdAtDate)) {\n        heading = intl.formatDate(createdAt, { month: 'long' }); // January\n    } else if (createdAtDate.getDate() <= currentSunday - 7) {\n        heading = intl.formatMessage(messages.versionsThisMonth); // This Month\n    } else if (createdAtDate.getDate() <= currentSunday) {\n        heading = intl.formatMessage(messages.versionsPriorWeek); // Last Week\n    } else {\n        heading = intl.formatDate(createdAt, { weekday: 'long' }); // Monday\n    }\n\n    return heading;\n};\n\nconst VersionsMenu = React.memo<Props>(({ intl, versions, ...rest }: Props) => {\n    const { id: currentId } = versions[0] || {};\n\n    // Build an ordered set of groups with headings based on the original order of the versions array\n    const versionGroups = versions.reduce((groups: VersionGroups, version: BoxItemVersion): VersionGroups => {\n        const currentGroup = last(groups);\n        const groupHeading = getHeading({ intl, version });\n\n        // Push a new group if there are no groups or if the heading has changed\n        if (!currentGroup || currentGroup.groupHeading !== groupHeading) {\n            groups.push({\n                groupHeading,\n                groupVersions: [],\n            });\n        }\n\n        // Push the sorted version to the newest group's versions collection\n        last(groups).groupVersions.push(version);\n        return groups;\n    }, []);\n\n    return (\n        <ul className=\"bcs-VersionsMenu\">\n            {versionGroups.map(({ groupHeading, groupVersions }) => (\n                <li className=\"bcs-VersionsMenu-item\" key={groupHeading}>\n                    <VersionsGroup currentId={currentId} heading={groupHeading} versions={groupVersions} {...rest} />\n                </li>\n            ))}\n        </ul>\n    );\n});\n\nexport default injectIntl(VersionsMenu);\n","// extracted by mini-css-extract-plugin","/**\n * @flow\n * @file Versions Sidebar component\n * @author Box\n */\n\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport type { MessageDescriptor } from 'react-intl';\nimport InlineError from '../../../components/inline-error';\nimport messages from './messages';\nimport SidebarContent from '../SidebarContent';\nimport VersionsMenu from './VersionsMenu';\nimport { BackButton } from '../../common/nav-button';\nimport { DEFAULT_FETCH_END } from '../../../constants';\nimport { LoadingIndicatorWrapper } from '../../../components/loading-indicator';\nimport type { BoxItemVersion } from '../../../common/types/core';\nimport './VersionsSidebar.scss';\n\nconst MAX_VERSIONS = DEFAULT_FETCH_END;\n\ntype Props = {\n    error?: MessageDescriptor,\n    fileId: string,\n    isLoading: boolean,\n    parentName: string,\n    versionCount: number,\n    versionLimit: number,\n    versions: Array<BoxItemVersion>,\n};\n\nconst VersionsSidebar = ({ error, isLoading, parentName, versions, ...rest }: Props) => {\n    const showLimit = versions.length >= MAX_VERSIONS;\n    const showVersions = !!versions.length;\n    const showEmpty = !isLoading && !showVersions;\n    const showError = !!error;\n\n    return (\n        <SidebarContent\n            className=\"bcs-Versions\"\n            data-resin-component=\"preview\"\n            data-resin-feature=\"versions\"\n            title={\n                <>\n                    <BackButton data-resin-target=\"back\" to={`/${parentName}`} />\n                    <FormattedMessage {...messages.versionsTitle} />\n                </>\n            }\n        >\n            <LoadingIndicatorWrapper className=\"bcs-Versions-content\" crawlerPosition=\"top\" isLoading={isLoading}>\n                {showError && (\n                    <InlineError title={<FormattedMessage {...messages.versionServerError} />}>\n                        <FormattedMessage {...error} />\n                    </InlineError>\n                )}\n\n                {showEmpty && (\n                    <div className=\"bcs-Versions-empty\">\n                        <FormattedMessage {...messages.versionsEmpty} />\n                    </div>\n                )}\n\n                {showVersions && (\n                    <div className=\"bcs-Versions-menu\">\n                        <VersionsMenu versions={versions} {...rest} />\n                    </div>\n                )}\n                {showLimit && (\n                    <div className=\"bcs-Versions-maxEntries\" data-testid=\"max-versions\">\n                        <FormattedMessage\n                            {...messages.versionMaxEntries}\n                            values={{\n                                maxVersions: MAX_VERSIONS,\n                            }}\n                        />\n                    </div>\n                )}\n            </LoadingIndicatorWrapper>\n        </SidebarContent>\n    );\n};\n\nexport default VersionsSidebar;\n","// extracted by mini-css-extract-plugin","/**\n * @flow\n * @file Versions Sidebar API Helper\n * @author Box\n */\nimport API from '../../../api';\nimport { FILE_VERSION_FIELDS_TO_FETCH } from '../../../utils/fields';\nimport type { BoxItem, FileVersions, BoxItemVersion } from '../../../common/types/core';\n\nexport type fetchPayload = [BoxItem, FileVersions];\n\nexport default class VersionsSidebarAPI {\n    api: API;\n\n    fileId: string;\n\n    constructor({ api, fileId }: { api: API, fileId: string }) {\n        this.api = api;\n        this.fileId = fileId;\n    }\n\n    fetchData = (): Promise<fetchPayload> => {\n        return Promise.all([this.fetchFile(), this.fetchVersions()]).then(this.fetchVersionCurrent);\n    };\n\n    fetchDownloadUrl = (version: ?BoxItemVersion): Promise<string> => {\n        return new Promise((resolve, reject) => {\n            if (!version) {\n                return reject(new Error('Could not find requested version'));\n            }\n\n            return this.api.getFileAPI().getDownloadUrl(this.fileId, version, resolve, reject);\n        });\n    };\n\n    fetchFile = (): Promise<BoxItem> => {\n        return new Promise((resolve, reject) =>\n            this.api.getFileAPI().getFile(this.fileId, resolve, reject, {\n                fields: FILE_VERSION_FIELDS_TO_FETCH,\n                forceFetch: true,\n            }),\n        );\n    };\n\n    fetchVersions = (): Promise<FileVersions> => {\n        return new Promise((resolve, reject) =>\n            this.api.getVersionsAPI(false).getVersions(this.fileId, resolve, reject),\n        );\n    };\n\n    fetchVersionCurrent = ([fileResponse, versionsResponse]: fetchPayload): Promise<fetchPayload> => {\n        const { file_version = {} } = fileResponse;\n\n        return new Promise((resolve, reject) =>\n            this.api.getVersionsAPI(false).getVersion(\n                this.fileId,\n                file_version.id,\n                (currentVersionResponse: BoxItemVersion) => {\n                    resolve([\n                        fileResponse,\n                        this.api\n                            .getVersionsAPI(false)\n                            .addCurrentVersion(currentVersionResponse, versionsResponse, fileResponse),\n                    ]);\n                },\n                reject,\n            ),\n        );\n    };\n\n    fetchVersion = (versionId: string): Promise<BoxItemVersion> => {\n        return new Promise((resolve, reject) =>\n            this.api.getVersionsAPI(false).getVersion(this.fileId, versionId, resolve, reject),\n        );\n    };\n\n    deleteVersion = (version: ?BoxItemVersion): Promise<null> => {\n        const { id: versionId, permissions = {} } = version || {};\n\n        return new Promise((resolve, reject) =>\n            this.api.getVersionsAPI(false).deleteVersion({\n                fileId: this.fileId,\n                permissions,\n                successCallback: resolve,\n                errorCallback: reject,\n                versionId,\n            }),\n        );\n    };\n\n    promoteVersion = (version: ?BoxItemVersion): Promise<BoxItemVersion> => {\n        const { id: versionId, permissions = {} } = version || {};\n\n        return new Promise((resolve, reject) =>\n            this.api.getVersionsAPI(false).promoteVersion({\n                fileId: this.fileId,\n                permissions,\n                successCallback: resolve,\n                errorCallback: reject,\n                versionId,\n            }),\n        );\n    };\n\n    restoreVersion = (version: ?BoxItemVersion): Promise<any> => {\n        const { id: versionId, permissions = {} } = version || {};\n\n        return new Promise((resolve, reject) =>\n            this.api.getVersionsAPI(false).restoreVersion({\n                fileId: this.fileId,\n                permissions,\n                successCallback: resolve,\n                errorCallback: reject,\n                versionId,\n            }),\n        );\n    };\n}\n","/**\n * @flow\n * @file Versions Sidebar container\n * @author Box\n */\n\nimport React from 'react';\nimport flow from 'lodash/flow';\nimport getProp from 'lodash/get';\nimport merge from 'lodash/merge';\nimport noop from 'lodash/noop';\nimport { generatePath, withRouter } from 'react-router-dom';\nimport type { Match, RouterHistory } from 'react-router-dom';\nimport type { MessageDescriptor } from 'react-intl';\nimport API from '../../../api';\nimport messages from './messages';\nimport openUrlInsideIframe from '../../../utils/iframe';\nimport StaticVersionsSidebar from './StaticVersionSidebar';\nimport VersionsSidebar from './VersionsSidebar';\nimport VersionsSidebarAPI from './VersionsSidebarAPI';\nimport { withAPIContext } from '../../common/api-context';\nimport type { VersionActionCallback, VersionChangeCallback, SidebarLoadCallback } from './flowTypes';\nimport type { BoxItemVersion, BoxItem, FileVersions } from '../../../common/types/core';\n\ntype Props = {\n    api: API,\n    fileId: string,\n    hasSidebarInitialized?: boolean,\n    history: RouterHistory,\n    match: Match,\n    onLoad: SidebarLoadCallback,\n    onUpgradeClick?: () => void,\n    onVersionChange: VersionChangeCallback,\n    onVersionDelete: VersionActionCallback,\n    onVersionDownload: VersionActionCallback,\n    onVersionPreview: VersionActionCallback,\n    onVersionPromote: VersionActionCallback,\n    onVersionRestore: VersionActionCallback,\n    parentName: string,\n    versionId?: string,\n};\n\ntype State = {\n    error?: MessageDescriptor,\n    isLoading: boolean,\n    isWatermarked: boolean,\n    versionCount: number,\n    versionLimit: number,\n    versions: Array<BoxItemVersion>,\n};\n\nclass VersionsSidebarContainer extends React.Component<Props, State> {\n    static defaultProps = {\n        onLoad: noop,\n        onVersionChange: noop,\n        onVersionDelete: noop,\n        onVersionDownload: noop,\n        onVersionPreview: noop,\n        onVersionPromote: noop,\n        onVersionRestore: noop,\n        parentName: '',\n    };\n\n    api: VersionsSidebarAPI;\n\n    props: Props;\n\n    state: State = {\n        isLoading: true,\n        isWatermarked: false,\n        versionCount: Infinity,\n        versionLimit: Infinity,\n        versions: [],\n    };\n\n    window: any = window;\n\n    componentDidMount() {\n        const { onLoad } = this.props;\n        this.initialize();\n        this.fetchData().then(() => {\n            onLoad({ component: 'preview', feature: 'versions' });\n        });\n    }\n\n    componentDidUpdate({ fileId: prevFileId, versionId: prevVersionId }: Props) {\n        const { fileId, versionId } = this.props;\n\n        if (fileId !== prevFileId) {\n            this.refresh();\n        }\n\n        if (versionId !== prevVersionId) {\n            this.verifyVersion();\n        }\n    }\n\n    componentWillUnmount() {\n        // Reset the current version id since the wrapping route is no longer active\n        this.props.onVersionChange(null);\n    }\n\n    handleActionDelete = (versionId: string): Promise<void> => {\n        this.setState({ isLoading: true });\n\n        return this.api\n            .deleteVersion(this.findVersion(versionId))\n            .then(() => this.api.fetchVersion(versionId))\n            .then(this.handleDeleteSuccess)\n            .then(() => this.props.onVersionDelete(versionId))\n            .catch(() => this.handleActionError(messages.versionActionDeleteError));\n    };\n\n    handleActionDownload = (versionId: string): Promise<void> => {\n        return this.api\n            .fetchDownloadUrl(this.findVersion(versionId))\n            .then(openUrlInsideIframe)\n            .then(() => this.props.onVersionDownload(versionId))\n            .catch(() => this.handleActionError(messages.versionActionDownloadError));\n    };\n\n    handleActionPreview = (versionId: string): void => {\n        this.updateVersion(versionId);\n        this.props.onVersionPreview(versionId);\n    };\n\n    handleActionPromote = (versionId: string): Promise<void> => {\n        this.setState({ isLoading: true });\n\n        return this.api\n            .promoteVersion(this.findVersion(versionId))\n            .then(this.api.fetchData)\n            .then(this.handleFetchSuccess)\n            .then(this.handlePromoteSuccess)\n            .then(() => this.props.onVersionPromote(versionId))\n            .catch(() => this.handleActionError(messages.versionActionPromoteError));\n    };\n\n    handleActionRestore = (versionId: string): Promise<void> => {\n        this.setState({ isLoading: true });\n\n        return this.api\n            .restoreVersion(this.findVersion(versionId))\n            .then(() => this.api.fetchVersion(versionId))\n            .then(this.handleRestoreSuccess)\n            .then(() => this.props.onVersionRestore(versionId))\n            .catch(() => this.handleActionError(messages.versionActionRestoreError));\n    };\n\n    handleActionError = (message: MessageDescriptor): void => {\n        this.setState({\n            error: message,\n            isLoading: false,\n        });\n    };\n\n    handleDeleteSuccess = (data: BoxItemVersion): void => {\n        const { versionId: selectedVersionId } = this.props;\n        const { id: versionId } = data;\n\n        this.mergeResponse(data);\n\n        // Bump the user to the current version if they deleted their selected version\n        if (versionId === selectedVersionId) {\n            this.updateVersionToCurrent();\n        }\n    };\n\n    handleRestoreSuccess = (data: BoxItemVersion): void => {\n        this.mergeResponse(data);\n    };\n\n    handleFetchError = (): void => {\n        this.setState({\n            error: messages.versionFetchError,\n            isLoading: false,\n            isWatermarked: false,\n            versionCount: 0,\n            versions: [],\n        });\n    };\n\n    handleFetchSuccess = ([fileResponse, versionsResponse]): [BoxItem, FileVersions] => {\n        const { api } = this.props;\n        const { version_limit } = fileResponse;\n        const isWatermarked = getProp(fileResponse, 'watermark_info.is_watermarked', false);\n        const versionLimit = version_limit !== null && version_limit !== undefined ? version_limit : Infinity;\n        const versionsWithPermissions = api.getVersionsAPI(false).addPermissions(versionsResponse, fileResponse) || {};\n        const { entries: versions, total_count: versionCount } = versionsWithPermissions;\n\n        this.setState(\n            {\n                error: undefined,\n                isLoading: false,\n                isWatermarked,\n                versionCount,\n                versionLimit,\n                versions: this.sortVersions(versions),\n            },\n            this.verifyVersion,\n        );\n\n        return [fileResponse, versionsResponse];\n    };\n\n    handlePromoteSuccess = ([file]: [BoxItem, FileVersions]): void => {\n        const { file_version: fileVersion } = file;\n\n        if (fileVersion) {\n            this.updateVersion(fileVersion.id);\n        }\n    };\n\n    initialize = (): void => {\n        this.api = new VersionsSidebarAPI(this.props);\n    };\n\n    fetchData = (): Promise<?[BoxItem, FileVersions]> => {\n        return this.api\n            .fetchData()\n            .then(this.handleFetchSuccess)\n            .catch(this.handleFetchError);\n    };\n\n    findVersion = (versionId: ?string): ?BoxItemVersion => {\n        const { versions } = this.state;\n\n        return versions.find(version => version.id === versionId);\n    };\n\n    getCurrentVersionId = (): ?string => {\n        const { versions } = this.state;\n        return versions[0] ? versions[0].id : null;\n    };\n\n    mergeVersions = (newVersion: BoxItemVersion): Array<BoxItemVersion> => {\n        const { versions } = this.state;\n        const newVersionId = newVersion ? newVersion.id : '';\n        return versions.map(version => (version.id === newVersionId ? merge({ ...version }, newVersion) : version));\n    };\n\n    mergeResponse = (data: BoxItemVersion): void => {\n        const newVersions = this.mergeVersions(data);\n\n        this.setState({\n            error: undefined,\n            isLoading: false,\n            versions: newVersions,\n        });\n    };\n\n    refresh(): void {\n        this.initialize();\n        this.setState({ isLoading: true }, this.fetchData);\n    }\n\n    sortVersions(versions?: Array<BoxItemVersion> = []): Array<BoxItemVersion> {\n        return [...versions].sort((a, b) => Date.parse(b.created_at) - Date.parse(a.created_at));\n    }\n\n    updateVersion = (versionId?: ?string): void => {\n        const { history, match } = this.props;\n        return history.push(generatePath(match.path, { ...match.params, versionId }));\n    };\n\n    updateVersionToCurrent = (): void => {\n        this.updateVersion(this.getCurrentVersionId());\n    };\n\n    verifyVersion = () => {\n        const { onVersionChange, versionId } = this.props;\n        const selectedVersion = this.findVersion(versionId);\n\n        if (selectedVersion) {\n            onVersionChange(selectedVersion, {\n                currentVersionId: this.getCurrentVersionId(),\n                updateVersionToCurrent: this.updateVersionToCurrent,\n            });\n        } else {\n            this.updateVersionToCurrent();\n        }\n    };\n\n    render() {\n        const { fileId, parentName, onUpgradeClick } = this.props;\n\n        if (onUpgradeClick) {\n            return <StaticVersionsSidebar onUpgradeClick={onUpgradeClick} parentName={parentName} {...this.state} />;\n        }\n\n        return (\n            <VersionsSidebar\n                fileId={fileId}\n                onDelete={this.handleActionDelete}\n                onDownload={this.handleActionDownload}\n                onPreview={this.handleActionPreview}\n                onPromote={this.handleActionPromote}\n                onRestore={this.handleActionRestore}\n                parentName={parentName}\n                {...this.state}\n            />\n        );\n    }\n}\n\nexport type VersionsSidebarProps = Props;\nexport default flow([withRouter, withAPIContext])(VersionsSidebarContainer);\n","// @flow\nexport { default } from './VersionsSidebarContainer';\nexport { default as VersionsSidebarComponent } from './VersionsSidebar';\nexport type { VersionsSidebarProps } from './VersionsSidebarContainer';\nexport type * from './flowTypes';\n","// @flow strict\n\nimport { defineMessages } from 'react-intl';\n\nconst messages = defineMessages({\n    fileRequestDisplayName: {\n        defaultMessage: 'File Request',\n        description:\n            'name of the File Request feature used to translate when a File Request is uploaded by the service',\n        id: 'be.sidebarVersions.fileRequestDisplayName',\n    },\n    versionsEmpty: {\n        id: 'be.sidebarVersions.empty',\n        description: 'Message to display when no versions are available',\n        defaultMessage: 'No prior versions are available for this file.',\n    },\n    versionsPriorWeek: {\n        id: 'be.sidebarVersions.priorWeek',\n        description: 'Header to display for group of versions created in the prior week',\n        defaultMessage: 'Last Week',\n    },\n    versionsThisMonth: {\n        id: 'be.sidebarVersions.thisMonth',\n        description: 'Header to display for group of versions created in the current month',\n        defaultMessage: 'This Month',\n    },\n    versionsToday: {\n        id: 'be.sidebarVersions.today',\n        description: 'Header to display for group of versions created yesterday',\n        defaultMessage: 'Today',\n    },\n    versionsYesterday: {\n        id: 'be.sidebarVersions.yesterday',\n        description: 'Header to display for group of versions created today',\n        defaultMessage: 'Yesterday',\n    },\n    versionsTitle: {\n        id: 'be.sidebarVersions.title',\n        description: 'Title for the preview versions sidebar',\n        defaultMessage: 'Version History',\n    },\n    versionCurrent: {\n        id: 'be.sidebarVersions.current',\n        defaultMessage: 'Current Version',\n        description: 'Label for the current version item in the version history list.',\n    },\n    versionActionDelete: {\n        id: 'be.sidebarVersions.delete',\n        defaultMessage: 'Delete',\n        description: 'Label for the version delete action.',\n    },\n    versionActionDeleteError: {\n        id: 'be.sidebarVersions.deleteError',\n        defaultMessage: 'File version could not be deleted.',\n        description: 'Error message for the version delete action.',\n    },\n    versionActionDisabledRetention: {\n        id: 'be.sidebarVersions.disabledByRetention',\n        defaultMessage: 'Disabled by retention policy',\n        description: 'Tooltip message for actions disabled by retention policy.',\n    },\n    versionActionDownload: {\n        id: 'be.sidebarVersions.download',\n        defaultMessage: 'Download',\n        description: 'Label for the version download action.',\n    },\n    versionActionDownloadError: {\n        id: 'be.sidebarVersions.downloadError',\n        defaultMessage: 'File version could not be downloaded.',\n        description: 'Error message for the version download action.',\n    },\n    versionActionPreview: {\n        id: 'be.sidebarVersions.preview',\n        defaultMessage: 'Preview',\n        description: 'Label for the version preview action.',\n    },\n    versionActionPromote: {\n        id: 'be.sidebarVersions.promote',\n        defaultMessage: 'Make Current',\n        description: 'Label for the version promote action.',\n    },\n    versionActionPromoteError: {\n        id: 'be.sidebarVersions.promoteError',\n        defaultMessage: 'File version could not be made current.',\n        description: 'Error message for the version promote action.',\n    },\n    versionActionRestore: {\n        id: 'be.sidebarVersions.restore',\n        defaultMessage: 'Restore',\n        description: 'Label for the version restore action.',\n    },\n    versionActionRestoreError: {\n        id: 'be.sidebarVersions.restoreError',\n        defaultMessage: 'File version could not be restored.',\n        description: 'Error message for the version restored action.',\n    },\n    versionActionToggle: {\n        id: 'be.sidebarVersions.toggle',\n        defaultMessage: 'Toggle Actions Menu',\n        description: 'Label for the version actions dropdown menu toggle button.',\n    },\n    versionDeletedBy: {\n        id: 'be.sidebarVersions.deletedBy',\n        defaultMessage: 'Deleted by {name}',\n        description: 'Message displayed for a deleted version. {name} is the user who performed the action.',\n    },\n    versionFetchError: {\n        id: 'be.sidebarVersions.fetchError',\n        defaultMessage: 'File versions could not be retrieved.',\n        description: 'Error message for the versions fetch call.',\n    },\n    versionNotAvailable: {\n        id: 'be.sidebarVersions.notAvailable',\n        defaultMessage:\n            'Sorry, version history is not available with your current account plan. To access versioning, select from one of our paid plans.',\n        description:\n            'Error message with upsell for the versions fetch call for users who dont have the version feature.',\n    },\n    versionLimitExceeded: {\n        id: 'be.sidebarVersions.versionLimitExceeded',\n        defaultMessage:\n            'You are limited to the last {versionLimit, number} {versionLimit, plural, one {version} other {versions}}.',\n        description: \"Text displayed if a version exceeds the user's maximum allowed version count\",\n    },\n    versionNumberBadge: {\n        id: 'be.sidebarVersions.versionNumberBadge',\n        defaultMessage: 'V{versionNumber}',\n        description: 'Text to display in the version badge.',\n    },\n    versionNumberLabel: {\n        id: 'be.sidebarVersions.versionNumberLabel',\n        defaultMessage: 'Version number {versionNumber}',\n        description: 'Label given to the version badge for screen readers.',\n    },\n    versionPromotedBy: {\n        id: 'be.sidebarVersions.promotedBy',\n        defaultMessage: 'Promoted from v{versionPromoted} by {name}',\n        description: 'Message displayed for a restored version. {name} is the user who performed the action.',\n    },\n    versionRestoredBy: {\n        id: 'be.sidebarVersions.restoredBy',\n        defaultMessage: 'Restored by {name}',\n        description: 'Message displayed for a restored version. {name} is the user who performed the action.',\n    },\n    versionServerError: {\n        id: 'be.sidebarVersions.serverError',\n        defaultMessage: 'Server Error',\n        description: 'Heading for inline error messages displayed due to a remote server issue.',\n    },\n    versionUpgradeLink: {\n        id: 'be.sidebarVersions.upgradeLink',\n        defaultMessage: 'Upgrade Now',\n        description: 'Text on the upgrade button shown when user does not have access to Version History',\n    },\n    versionUploadedBy: {\n        id: 'be.sidebarVersions.uploadedBy',\n        defaultMessage: 'Uploaded by {name}',\n        description: 'Message displayed for an uploaded version. {name} is the user who performed the action.',\n    },\n    versionUserUnknown: {\n        id: 'be.sidebarVersions.versionUserUnknown',\n        defaultMessage: 'Unknown',\n        description: 'Name displayed for unknown or deleted users.',\n    },\n    versionMaxEntries: {\n        id: 'be.sidebarVersions.versionMaxEntries',\n        defaultMessage: 'Version history is limited to the last {maxVersions} entries.',\n        description: 'Max supported entries for version history',\n    },\n    versionRetentionDelete: {\n        id: 'be.sidebarVersions.versionRetentionDelete',\n        defaultMessage: 'Will be deleted {time} by retention policy.',\n        description: 'Message describing when the version will be deleted due to an applied retention policy.',\n    },\n    versionRetentionIndefinite: {\n        id: 'be.sidebarVersions.versionRetentionIndefinite',\n        defaultMessage: 'Retained indefinitely by retention policy.',\n        description: 'Message describing that the version retention policy is indefinite and will not expire.',\n    },\n    versionRetentionRemove: {\n        id: 'be.sidebarVersions.versionRetentionRemove',\n        defaultMessage: 'Retention policy expires on {time}.',\n        description: 'Message describing when the version retention policy will expire.',\n    },\n    versionUpsell: {\n        defaultMessage:\n            'Sorry, version history is not available with your current account plan. To access versioning, select from one of our paid plans.',\n        description: 'Upgrade message shown when user does not have access to Version History',\n        id: 'be.sidebarVersions.versionUpsell',\n    },\n    upgradeButton: {\n        defaultMessage: 'Upgrade',\n        description: 'Text on the upgrade button shown when user does not have access to Version History',\n        id: 'be.sidebarVersions.upgradeButton',\n    },\n});\n\nexport default messages;\n","import * as React from 'react';\n\nimport AccessibleSVG from '../accessible-svg';\n\nimport { Icon } from '../iconTypes';\n\nconst IconClockPast = ({ className = '', color = '#444', height = 14, title, width = 16 }: Icon) => (\n    <AccessibleSVG\n        className={`icon-clock-past ${className}`}\n        height={height}\n        title={title}\n        viewBox=\"0 0 16 14\"\n        width={width}\n    >\n        <g fill=\"none\" fillRule=\"evenodd\" transform=\"translate(0 1)\">\n            <rect className=\"fill-color\" fill={color} height=\"5\" rx=\".5\" width=\"1\" x=\"9.66\" y=\"3\" />\n            <rect className=\"fill-color\" fill={color} height=\"1\" rx=\".5\" width=\"3\" x=\"9.66\" y=\"7\" />\n            <path\n                className=\"stroke-color\"\n                d=\"M5.66 10.62C6.697 11.48 8.032 12 9.487 12c3.314 0 6-2.686 6-6s-2.686-6-6-6c-3.313 0-6 2.686-6 6\"\n                stroke={color}\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n            />\n            <path className=\"fill-color\" d=\"M6.317 5l-2.83 2.828L.66 5\" fill={color} />\n        </g>\n    </AccessibleSVG>\n);\n\nexport default IconClockPast;\n","import * as React from 'react';\n\nimport AccessibleSVG from '../accessible-svg';\n\nimport { Icon } from '../iconTypes';\n\nconst IconClose = ({ className = '', color = '#000000', height = 24, title, width = 24 }: Icon) => (\n    <AccessibleSVG\n        className={`icon-close ${className}`}\n        height={height}\n        title={title}\n        viewBox=\"0 0 24 24\"\n        width={width}\n    >\n        <path\n            className=\"fill-color\"\n            d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n            fill={color}\n        />\n        <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n    </AccessibleSVG>\n);\n\nexport default IconClose;\n","import * as React from 'react';\n\nimport AccessibleSVG from '../accessible-svg';\nimport { bdlGray80 } from '../../styles/variables';\n\nimport { Icon } from '../iconTypes';\n\nconst IconDownload = ({ className = '', color = bdlGray80, height = 16, title, width = 16 }: Icon) => (\n    <AccessibleSVG\n        className={`icon-download ${className}`}\n        height={height}\n        title={title}\n        viewBox=\"0 0 16 16\"\n        width={width}\n    >\n        <path\n            className=\"fill-color\"\n            fill={color}\n            fillRule=\"evenodd\"\n            d=\"M14 14v1H2v-1h12zM10.996 2v4.997H14L8 13 2 6.997h3.004V2h5.992zm-.998 1H6.002v4.996h-1.59L8 11.586l3.589-3.59H9.998V3z\"\n        />\n    </AccessibleSVG>\n);\n\nexport default IconDownload;\n","import * as React from 'react';\n\nimport AccessibleSVG from '../accessible-svg';\nimport { bdlGray80 } from '../../styles/variables';\n\nimport { Icon } from '../iconTypes';\n\nconst IconOpenWith = ({ className = '', color = bdlGray80, height = 16, title, width = 16 }: Icon) => (\n    <AccessibleSVG\n        className={`icon-open-with ${className}`}\n        height={height}\n        title={title}\n        viewBox=\"0 0 16 16\"\n        width={width}\n    >\n        <path\n            className=\"fill-color\"\n            fill={color}\n            fillRule=\"evenodd\"\n            d=\"M12 2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm0 1H4a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zm-1 2v6h-1V6.71l-4.65 4.64-.7-.7L9.29 6H5V5h6z\"\n        />\n    </AccessibleSVG>\n);\n\nexport default IconOpenWith;\n","import * as React from 'react';\nimport { bdlGray80 } from '../../styles/variables';\nimport AccessibleSVG from '../accessible-svg';\n\nimport { Icon } from '../iconTypes';\n\nconst IconUpload = ({ className = '', color = bdlGray80, height = 16, title, width = 16 }: Icon) => (\n    <AccessibleSVG\n        className={`icon-upload ${className}`}\n        height={height}\n        title={title}\n        viewBox=\"0 0 16 16\"\n        width={width}\n    >\n        <path\n            className=\"fill-color\"\n            fill={color}\n            fillRule=\"evenodd\"\n            d=\"M14 14v1H2v-1h12zM8 1l6 6.003h-3.004V12H5.004V7.003H2L8 1zm0 1.413l-3.589 3.59h1.591v4.998h3.996V6.004h1.59L8 2.414z\"\n        />\n    </AccessibleSVG>\n);\n\nexport default IconUpload;\n","/* eslint-disable react/jsx-sort-props */\nimport * as React from 'react';\nimport * as vars from '../styles/variables';\nimport AccessibleSVG, { SVGProps } from '../components/accessible-svg/AccessibleSVG';\n\n/**\n * This is an auto-generated component and should not be edited\n * manually in contributor pull requests.\n *\n * If you have problems with this component:\n * - https://github.com/box/box-ui-elements/issues/new?template=Bug_report.md\n *\n * If there are missing features in this component:\n * - https://github.com/box/box-ui-elements/issues/new?template=Feature_request.md\n */\n\nconst BoxDrive140 = (props: SVGProps) => (\n    <AccessibleSVG width={140} height={140} viewBox=\"0 0 140 140\" {...props}>\n        <g fill=\"none\" fillRule=\"evenodd\">\n            <path\n                fill={vars.white}\n                fillRule=\"nonzero\"\n                d=\"M74.512 19.775a4 4 0 014.842-2.637l14.986 4.015.218.065c.082.027.163.057.244.09l-1.287 4.8-.058.234a7 7 0 005.008 8.34l4.8 1.287a4 4 0 01-.096.476l-1.826 6.81L108.997 30l.104-.17a4 4 0 015.173-1.396l.187.102 13.436 7.757.193.12.108.072.105.077-2.486 4.304-.116.21a7 7 0 002.463 9.223l.216.13 4.304 2.485-.102.22-.115.214-13.757 23.829-.104.17a4 4 0 01-5.173 1.396l-.187-.102-.247-.143L113 60a6 6 0 00-5.775-5.996L107 54l-8.535-.002-2.418 9.024-.056.191a4 4 0 01-4.843 2.637L67.966 59.64l-.191-.057a4 4 0 01-2.637-4.842l9.317-34.774zm-55.64 12.544l2.485 4.304.124.207a7 7 0 009.439 2.356l4.041-2.334L39.556 54H33a6 6 0 00-6 6v18.399l-.174.095a4 4 0 01-5.29-1.56l-18-31.177-.095-.175a4 4 0 011.56-5.289l13.436-7.757.2-.108c.077-.039.156-.075.235-.11zm33.557-15.28l1.286 4.801.066.232a7 7 0 008.507 4.718l4.802-1.286a4 4 0 01.154.46l1.766 6.594L63.264 54H41.626l-7.488-27.95-.047-.193a4 4 0 012.875-4.705l14.986-4.016.22-.052c.086-.018.171-.033.257-.045z\"\n            />\n            <g transform=\"translate(1 15)\">\n                <ellipse cx={69} cy={104} fill={vars.bdlBoxBlue10} rx={60} ry={7} />\n                <path\n                    fill={vars.white}\n                    fillRule=\"nonzero\"\n                    d=\"M106 39a6 6 0 016 6v54h9a6 6 0 01-6 6H23a6 6 0 01-6-6h9V45a6 6 0 016-6h74z\"\n                />\n                <path\n                    fill={vars.bdlBoxBlue}\n                    fillRule=\"nonzero\"\n                    d=\"M78.872.206L93.858 4.22a6 6 0 013.643 2.796l5.863 10.155.522.943L106.265 14a6 6 0 018.196-2.196l13.436 7.757a6 6 0 012.796 3.643l3.106 11.592a6 6 0 01-.6 4.552l-13.757 23.829A6.001 6.001 0 01112 65.743L112 99h9a6 6 0 01-6 6H23a6 6 0 01-6-6h9l-.001-33.408-.235.079a6.002 6.002 0 01-6.96-2.737l-18-31.177a6 6 0 012.197-8.196l13.436-7.757a6 6 0 014.553-.6l11.591 3.106c.16.043.316.092.47.147l-1.845-6.889a6 6 0 014.243-7.348L50.435.204a6 6 0 014.553.6l10.392 6a6 6 0 012.795 3.643l.87 3.248 2.478-9.246A6 6 0 0178.872.206zM61.765 101L19.536 101l.01.019a3.999 3.999 0 003.254 1.976l.2.005h92a3.996 3.996 0 003.34-1.797l.123-.203H76.235c-.549.614-1.347 1-2.235 1H64a2.993 2.993 0 01-2.235-1zM106 41H32a4 4 0 00-3.995 3.8L28 45v54h82V45a4 4 0 00-3.8-3.995L106 41zm0 1a3 3 0 013 3v53H29V45a3 3 0 013-3h74zm0 2H32a1 1 0 00-.993.883L31 45v51h76V45a1 1 0 00-.883-.993L106 44zm5.999 19.5l.247.142a4 4 0 005.36-1.294l.104-.17 13.757-23.829a4 4 0 00.217-.434l-4.304-2.486a7 7 0 01-2.68-9.352l.117-.21 2.486-4.304a3.999 3.999 0 00-.213-.15l-.193-.119-13.436-7.757a4 4 0 00-5.36 1.294l-.104.17L94.14 39H106a6 6 0 016 6l-.001 18.5zM17.872 17.319c-.08.034-.158.07-.235.11l-.2.107-13.436 7.757a4 4 0 00-1.56 5.289l.096.175 18 31.177a4 4 0 005.289 1.56l.174-.095V45a6 6 0 016-6h6.556l-4.595-17.148-4.041 2.334a7 7 0 01-9.439-2.356l-.124-.207-2.485-4.304zM51.43 2.039a3.999 3.999 0 00-.256.045l-.22.052-14.987 4.016a4 4 0 00-2.875 4.705l.047.194L40.626 39h21.638l5.746-21.442-1.766-6.593a4 4 0 00-.154-.46l-4.802 1.285a7 7 0 01-8.507-4.718l-.066-.232-1.286-4.8zm77.188 21.249l-2.068 3.579a5 5 0 001.645 6.718l.186.112 3.58 2.068-.04-.23-.053-.22-3.106-11.592a4 4 0 00-.144-.435zM20.024 17.043l2.065 3.58a5 5 0 006.64 1.935l.19-.104 3.582-2.067-.22-.08-.217-.065-11.592-3.106a4 4 0 00-.448-.093zm75.494-9.41l-1.071 3.993a5 5 0 003.327 6.063l.208.06 3.994 1.072-.1-.212-.107-.2-6-10.392a4 4 0 00-.251-.383zM53.578 2.33l1.069 3.993A5 5 0 0060.56 9.91l.21-.052 3.995-1.07-.192-.133-.193-.12-10.392-6a4 4 0 00-.41-.205zm48.516 18.893l-.002-.001.151-.258-4.778-1.282-.237-.068a7 7 0 01-4.822-8.033l.05-.239.059-.233 1.287-4.801-.122-.047-.122-.043-.218-.065-14.986-4.015-.2-.049c-.2-.042-.401-.07-.6-.081L77.355 2a4.005 4.005 0 00-3.7 2.395l-.076.187-.067.193-.057.191L64.335 39h27.496l10.263-17.777z\"\n                />\n                <path\n                    fill={vars.bdlBoxBlue10}\n                    fillRule=\"nonzero\"\n                    d=\"M113.987 35.357l6.062 3.5-1 1.732-6.062-3.5 1-1.732zm2-3.464l6.062 3.5-1 1.732-6.062-3.5 1-1.732zm-6.33.964l2.598 1.5-1 1.732-2.598-1.5 1-1.732zm18.96-9.57a4 4 0 01.144.436l3.106 11.591.052.22.041.231-3.58-2.068-.186-.112a5 5 0 01-1.645-6.718zm-16.96 6.106l2.598 1.5-1 1.732-2.598-1.5 1-1.732z\"\n                />\n                <path\n                    fill={vars.bdlBoxBlue}\n                    d=\"M106.791 35.822a1 1 0 01-.366-1.367l4-6.928a1 1 0 011.366-.366l12.124 7a1 1 0 01.367 1.366l-4 6.928a1 1 0 01-1.262.419l-.105-.052-12.124-7zm12.258 4.767l1-1.732-6.062-3.5-1 1.732 6.062 3.5zm-6.794-6.232l-2.598-1.5-1 1.732 2.598 1.5 1-1.732zm8.794 2.768l1-1.732-6.062-3.5-1 1.732 6.062 3.5zm-6.794-6.232l-2.598-1.5-1 1.732 2.598 1.5 1-1.732zm-86.433-3.61a1 1 0 01-.367 1.367l2 3.464a1 1 0 111 1.732l-5.196 3 .5.866.866-.5a1 1 0 011 1.732l-3.464 2a1 1 0 01-1-1.732l.866-.5-.5-.866-5.196 3a1 1 0 11-1-1.732l-2-3.464a1 1 0 11-1-1.732l12.124-7a1 1 0 011.367.366zm-2.099 2.367l-8.66 5 2 3.464 8.66-5-2-3.464zm58.765-8.992l.055.117 1.432 3.569 1.452-.837a1 1 0 011.342.325l.059.106.046.115 2.311 6.83a1 1 0 01-1.096 1.31l-.11-.023-13.523-3.624a1 1 0 01-.503-1.614l.08-.083 6.9-6.433a1 1 0 011.555.242zm-21.913 5.078a1 1 0 01-.707 1.225l-13.523 3.624a1 1 0 01-.518-1.932l13.523-3.624a1 1 0 011.225.707zm20.655-2.864l-4.515 4.21 9.976 2.672-1.32-3.905-1.393.804a1 1 0 01-1.31-.278l-.067-.107-.051-.108-1.32-3.288zm-22.028-1.544a1 1 0 01-.707 1.225l-13.523 3.623a1 1 0 01-.517-1.932l13.523-3.623a1 1 0 011.224.707zM56.303 18.5a1 1 0 01-.707 1.224l-9.66 2.589a1 1 0 01-.517-1.932l9.66-2.589a1 1 0 011.224.708zm32.47-1.147a2 2 0 11-1.035 3.863 2 2 0 011.035-3.863z\"\n                />\n                <path\n                    fill={vars.bdlBoxBlue}\n                    fillRule=\"nonzero\"\n                    d=\"M95.518 7.634l-1.071 3.992a5 5 0 003.327 6.063l.208.06 3.994 1.072-.1-.212-.107-.2-6-10.392a4 4 0 00-.251-.383z\"\n                />\n                <path\n                    fill={vars.white}\n                    fillRule=\"nonzero\"\n                    d=\"M61.765 101c.549.614 1.347 1 2.235 1h10c.888 0 1.686-.386 2.235-1h42.228l-.124.203A3.996 3.996 0 01115 103H23l-.2-.005a3.999 3.999 0 01-3.254-1.976l-.01-.019zM106 41l.2.005a4 4 0 013.795 3.789L110 45v54H28V45l.005-.2a4 4 0 013.789-3.795L32 41h74zm0 1H32a3 3 0 00-2.995 2.824L29 45v53h80V45a3 3 0 00-2.824-2.995L106 42zm0 2l.117.007a1 1 0 01.876.876L107 45v51H31V45l.007-.117a1 1 0 01.876-.876L32 44h74zm0 1H32v50h74V45z\"\n                />\n                <path fill={vars.bdlBoxBlue05} d=\"M32 45h74v50H32z\" />\n                <path\n                    fill={vars.white}\n                    fillRule=\"nonzero\"\n                    d=\"M84.709 64A7.98 7.98 0 0082 70a7.98 7.98 0 002.71 6.001L48 76l-.225-.004A6 6 0 0148 64z\"\n                />\n                <path\n                    fill={vars.bdlBoxBlue}\n                    fillRule=\"nonzero\"\n                    d=\"M90 62a8 8 0 01.25 15.996L90 78H48a8 8 0 110-16h42zm-5.291 2H48a6 6 0 00-.225 11.996L48 76l36.71.001A7.98 7.98 0 0182 70a7.98 7.98 0 012.709-6zM49 66a1 1 0 011 1v6a1 1 0 01-2 0v-6a1 1 0 011-1z\"\n                />\n                <path\n                    fill={vars.bdlBoxBlue10}\n                    d=\"M89 66a3 3 0 012.708 4.293l2 2a1 1 0 01-1.32 1.497l-.095-.083-2-1.999A3 3 0 1189 66zm0 2a1 1 0 100 2 1 1 0 000-2z\"\n                />\n            </g>\n            <path\n                fill={vars.bdlBoxBlue10}\n                fillRule=\"nonzero\"\n                d=\"M26.723 44.65l2 3.464-8.66 5-2-3.464 8.66-5zm57.507-6.778l1.32 3.288.05.108.068.107a1 1 0 001.31.278l1.392-.804 1.321 3.905-9.976-2.673 4.515-4.209zm-63.206-5.829a4 4 0 01.448.093l11.592 3.106.217.065.22.08-3.581 2.067-.19.104a5 5 0 01-6.64-1.935zm75.494-9.41a4 4 0 01.251.384l6 10.392.108.2.099.212-3.994-1.071-.208-.06a5 5 0 01-3.327-6.064zm-41.94-5.303a4 4 0 01.41.206l10.392 6 .193.119.192.134-3.994 1.07-.211.05a5 5 0 01-5.913-3.586z\"\n            />\n        </g>\n    </AccessibleSVG>\n);\n\nexport default BoxDrive140;\n","/**\n * @flow\n * @file Function to create iframe and downloading\n * @author Box\n */\n\n/**\n * Creates an empty iframe or uses an existing one\n * for the purposes of downloading or printing\n *\n * @private\n * @return {HTMLIFrameElement} Iframe\n */\nfunction createDownloadIframe(): HTMLIFrameElement {\n    let iframe: HTMLIFrameElement = ((document.querySelector('#boxdownloadiframe'): any): HTMLIFrameElement);\n    if (!iframe) {\n        // if no existing iframe create a new one\n        iframe = document.createElement('iframe');\n        iframe.setAttribute('id', 'boxdownloadiframe');\n        iframe.style.display = 'none';\n        if (document.body) {\n            document.body.appendChild(iframe);\n        }\n    }\n\n    // If the iframe previously failed to load contentDocument will be null\n    if (iframe.contentDocument) {\n        // Clean the iframe up\n        iframe.contentDocument.write('<head></head><body></body>');\n    }\n    return iframe;\n}\n\n/**\n * Opens url in an iframe\n * Used for downloads\n *\n * @param {string} url - URL to open\n * @return {HTMLIFrameElement}\n */\nexport default function openUrlInsideIframe(url: string): HTMLIFrameElement {\n    const iframe: HTMLIFrameElement = createDownloadIframe();\n    iframe.src = url;\n    return iframe;\n}\n","/**\n * @flow\n * @file Function to create size in words out of number\n * @author Box\n */\n\n/**\n * Gets the size in words\n *\n * @param {number} size in bytes\n * @return {string} size in words\n */\nexport default function(size?: number): string {\n    if (!size) return '0 Byte';\n    const kilo: number = 1024;\n    const decimals: number = 2;\n    const sizes: string[] = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB'];\n    const exp: number = Math.floor(Math.log(size) / Math.log(kilo));\n    return `${parseFloat((size / kilo ** exp).toFixed(decimals))} ${sizes[exp]}`;\n}\n"],"sourceRoot":""}