{"version":3,"sources":["webpack:///./src/components/close-button/CloseButton.scss","webpack:///./src/components/close-button/CloseButton.tsx","webpack:///./src/components/datalist-item/DatalistItem.scss","webpack:///./src/components/datalist-item/DatalistItem.tsx","webpack:///./src/components/datalist-item/index.ts","webpack:///./src/components/date-picker/AccessiblePikaday.ts","webpack:///./src/components/date-picker/DatePicker.scss","webpack:///./src/components/date-picker/DatePicker.tsx","webpack:///./src/components/flyout/Flyout.js","webpack:///./src/components/flyout/Flyout.scss","webpack:///./src/components/flyout/FlyoutContext.js","webpack:///./src/components/flyout/Overlay.js","webpack:///./src/components/flyout/OverlayHeader.scss","webpack:///./src/components/flyout/OverlayHeader.tsx","webpack:///./src/components/flyout/index.js","webpack:///./src/components/form-elements/form/Form.js","webpack:///./src/components/primary-button/PrimaryButton.tsx","webpack:///./src/components/scroll-wrapper/ScrollWrapper.js","webpack:///./src/components/scroll-wrapper/ScrollWrapper.scss","webpack:///./src/components/scroll-wrapper/index.js","webpack:///./src/components/selector-dropdown/SelectorDropdown.js","webpack:///./src/components/selector-dropdown/SelectorDropdown.scss","webpack:///./src/components/selector-dropdown/index.js","webpack:///./src/icon/fill/Alert16.tsx","webpack:///./src/icon/fill/Calendar16.tsx","webpack:///./src/icon/fill/ClearBadge16.tsx","webpack:///./src/icons/general/IconClose.tsx"],"names":["CloseButton","className","onClick","classNames","ButtonType","BUTTON","bdlGray62","DatalistItem","React","constructor","props","setActiveItemID","id","uniqueId","componentDidMount","isActive","componentDidUpdate","prevProps","render","children","isSelected","rest","classes","itemProps","omit","AccessiblePikaday","Pikaday","options","hide","event","isVisible","datePickerButtonEl","contains","target","el","currentFocusEl","document","activeElement","accessibleFieldEl","tabIndex","focus","classList","add","body","appendChild","addEventListener","handleBlur","show","handleClickOutside","adjustPosition","removeEventListener","destroy","messages","defineMessages","previousMonth","nextMonth","iconAlertText","dateClearButton","chooseDate","dateInputRangeError","dateInputMaxError","dateInputMinError","TOGGLE_DELAY_MS","ENTER_KEY","ESCAPE_KEY","TAB_KEY","ISO_DATE_FORMAT_PATTERN","DateFormat","convertUTCToLocal","date","dateString","toUTCString","dateStringWithoutTimeZone","slice","Date","getFormattedDate","format","utcDate","ISO_STRING_DATE_FORMAT","toISOString","LOCALE_DATE_STRING_DATE_FORMAT","toLocaleDateString","UTC_TIME_DATE_FORMAT","convertDateToUnixMidnightTime","UTC_ISO_STRING_DATE_FORMAT","getTime","localesWhereWeekStartsOnSunday","DatePicker","isDateInputInvalid","showDateInputError","onChange","isAccessible","state","formattedDate","formatValue","dateInputEl","datePicker","value","toString","focusDatePicker","setState","intl","maxDate","minDate","formatMessage","dateInputError","maxLocaleDate","minLocaleDate","isKeyboardInputAllowed","isTextInputAllowed","stopPropagation","key","preventDefault","canUseDateInputType","parsedDate","parseDisplayDateType","setDate","onBlur","nextActiveElement","relatedTarget","shouldStayClosed","setTimeout","inputDate","dateInputElVal","getDate","onSelectHandler","isDisabled","displayFormat","formatDate","test","dateFormat","createElement","type","e","isAlwaysVisible","accessibleAttrs","ref","handleButtonClick","customInput","yearRange","defaultValue","shouldUseAccessibleFallback","year","getFullYear","timeZone","i18n","months","range","map","month","weekdays","weekday","weekdaysShort","datePickerConfig","bound","blurFieldOnSelect","setDefaultDate","defaultDate","undefined","field","firstDay","includes","locale","position","showDaysInNextAndPreviousMonths","onSelect","formatDisplay","trigger","parse","formatDisplayDateType","keyboardInput","updateDateInputValue","noop","UNSAFE_componentWillReceiveProps","nextProps","nextValue","nextMinDate","nextMaxDate","selectedDate","setMinDate","gotoDate","setMaxDate","componentWillUnmount","description","error","errorTooltipPosition","hideLabel","hideOptionalLabel","inputProps","isClearable","isRequired","label","name","onFocus","placeholder","resinTarget","errorMessage","getDateInputError","hasError","hasValue","ariaAttrs","errorMessageID","descriptionID","resinTargetAttr","RESIN_TAG_TARGET","valueAttr","onChangeAttr","handleOnChange","additionalAttrs","max","min","pattern","source","title","TooltipTheme","ERROR","disabled","required","handleInputBlur","handleOnClick","handleInputKeyDown","clearDate","renderCalendarButton","UNIX_TIME_DATE_FORMAT","TooltipPosition","BOTTOM_LEFT","injectIntl","BOTTOM_CENTER","BOTTOM_RIGHT","MIDDLE_LEFT","MIDDLE_RIGHT","TOP_CENTER","TOP_LEFT","TOP_RIGHT","positions","attachment","targetAttachment","hasClickableAncestor","rootNode","targetNode","currentNode","Node","parentNode","nodeName","toUpperCase","hasClassAncestor","targetEl","HTMLElement","Flyout","overlayNode","getElementById","overlayID","closeOnClick","closeOnClickPredicate","handleOverlayClose","closeOverlay","openOverlay","isButtonClicked","isTrusted","openOnHover","openOnHoverDelayTimeout","clearTimeout","hoverDelay","KEYS","enter","focusButton","onOpen","onClose","buttonEl","overlayButtonID","portaledClasses","closeOnClickOutside","closeOnWindowBlur","buttonNode","isInsideToggleButton","isInsideOverlay","isInside","some","isVisibleByDefault","prevState","handleDocumentClickOrWindowBlur","window","constrainToScrollParent","constrainToWindow","isResponsive","offset","shouldDefaultFocus","elements","toArray","tetherPosition","length","Error","overlayButton","overlayContent","overlayButtonProps","onKeyPress","handleKeyPress","onMouseEnter","handleButtonHover","onMouseLeave","handleButtonHoverLeave","role","overlayProps","handleOverlayClick","constraints","push","to","tetherProps","classPrefix","enabled","element","Overlay","handleOverlayKeyDown","OverlayHeader","handleClick","FlyoutContext","getFormValidityState","form","call","reduce","validityObj","inputEl","validity","valid","validityState","customError","customErrorCode","validationMessage","Form","Component","currentTarget","formData","serialize","hash","empty","isValid","checkValidity","onInvalidSubmit","onValidSubmit","registeredInputs","formValidityState","Object","keys","forEach","setValidityStateHandler","nextState","getChildContext","registerInput","bind","unregisterInput","prevFormValidityState","onSubmit","PropTypes","node","func","object","shape","PrimaryButton","ScrollWrapper","shouldShowTopScrollShadow","shouldShowBottomScrollShadow","newState","getScrollShadowState","scrollRef","throttledOnContentScroll","observer","observe","attributes","childlist","subtree","scrollTop","scrollHeight","clientHeight","throttle","onContentScroll","MutationObserver","disconnect","scrollRefFn","shadowSize","stopDefaultEvent","SelectorDropdown","index","activeItemIndex","scrollBoundarySelector","itemEl","scrollOptions","block","boundary","querySelector","activeItemID","scrollIntoView","prevChildren","childrenCount","count","prevChildrenCount","childrenKeys","child","prevChildrenKeys","childKey","openDropdown","container","selectorDropdownRef","current","closeDropdown","isAlwaysOpen","onEnter","isDropdownOpen","nextIndex","setActiveItem","prevIndex","selectItem","resetActiveItem","handleInput","shouldOpen","shouldSetActiveItemOnOpen","handleDocumentClick","listboxID","haveChildrenChanged","dividerIndex","overlayTitle","selector","shouldScroll","isOpen","list","toLowerCase","item","onMouseDown","hasDivider","handleFocus","handleKeyDown","OVERLAY_WRAPPER_CLASS","Alert16","vars","Calendar16","ClearBadge16","IconClose","color","height","width"],"mappings":"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","file":"activity-sidebar~metadata-sidebar.js","sourcesContent":["// extracted by mini-css-extract-plugin","import * as React from 'react';\nimport classNames from 'classnames';\n\nimport Button, { ButtonType } from '../button';\nimport IconClose from '../../icons/general/IconClose';\nimport { bdlGray62 } from '../../styles/variables';\n\nimport './CloseButton.scss';\n\nexport interface CloseButtonProps {\n    /** Custom class for the close button */\n    className?: string;\n    /** onClick handler for the close button */\n    onClick?: Function;\n}\n\nconst CloseButton = ({ className, onClick }: CloseButtonProps) => {\n    return (\n        <Button\n            className={classNames('bdl-CloseButton', className)}\n            data-testid=\"bdl-CloseButton\"\n            onClick={onClick}\n            type={ButtonType.BUTTON}\n        >\n            <IconClose color={bdlGray62} height={18} width={18} />\n        </Button>\n    );\n};\n\nexport default CloseButton;\n","// extracted by mini-css-extract-plugin","import * as React from 'react';\nimport classNames from 'classnames';\nimport omit from 'lodash/omit';\nimport uniqueId from 'lodash/uniqueId';\n\nimport './DatalistItem.scss';\n\nexport interface DatalistItemProps {\n    /** Content to render in the list item */\n    children: React.ReactNode;\n\n    /** CSS class for the list item */\n    className?: string;\n\n    /** Set by a parent datalist component to indicate when the item is highlighted (but not necessarily selected) */\n    isActive?: boolean;\n\n    /** Set by a parent datalist component to indicate when the item is selected */\n    isSelected?: boolean;\n\n    /** Set by a parent datalist component to receive the updated active item ID */\n    setActiveItemID?: (id: string) => void;\n}\n\nclass DatalistItem extends React.Component<DatalistItemProps> {\n    constructor(props: DatalistItemProps) {\n        super(props);\n        this.id = uniqueId('datalistitem');\n    }\n\n    componentDidMount() {\n        if (this.props.isActive) {\n            this.setActiveItemID();\n        }\n    }\n\n    componentDidUpdate(prevProps: DatalistItemProps) {\n        if (this.props.isActive && !prevProps.isActive) {\n            this.setActiveItemID();\n        }\n    }\n\n    setActiveItemID = () => {\n        const { setActiveItemID } = this.props;\n\n        if (setActiveItemID) {\n            setActiveItemID(this.id);\n        }\n    };\n\n    id: string;\n\n    render() {\n        const { children, className, isActive, isSelected, ...rest } = this.props;\n        const classes = classNames(\n            'datalist-item',\n            {\n                'is-active': isActive,\n            },\n            className,\n        );\n        const itemProps = omit(rest, ['closeDropdown', 'setActiveItemID']);\n\n        /* eslint-disable jsx-a11y/role-has-required-aria-props */\n        // required aria props are added dynamically\n        return (\n            <li {...itemProps} className={classes} id={this.id} role=\"option\" aria-selected={isSelected}>\n                {children}\n            </li>\n        );\n        /* eslint-enable jsx-a11y/role-has-required-aria-props */\n    }\n}\n\nexport default DatalistItem;\n","export { default } from './DatalistItem';\n","import Pikaday, { PikadayOptions } from 'pikaday';\n\nexport interface AccessiblePikadayOptions extends PikadayOptions {\n    accessibleFieldEl?: HTMLElement | null | undefined;\n    datePickerButtonEl?: HTMLElement | null | undefined;\n}\n\n// An extended version of Pikaday to work when `isAccessible` prop is `true`\nclass AccessiblePikaday extends Pikaday {\n    accessibleFieldEl: HTMLElement | null | undefined;\n\n    datePickerButtonEl: HTMLElement | null | undefined;\n\n    constructor(options: AccessiblePikadayOptions) {\n        super(options);\n        this.accessibleFieldEl = options.accessibleFieldEl;\n        this.datePickerButtonEl = options.datePickerButtonEl;\n\n        // Override behavior as if `options.field` and `options.bound` were set.\n        // See https://github.com/Pikaday/Pikaday/blob/master/pikaday.js#L671\n        //     https://github.com/Pikaday/Pikaday/blob/master/pikaday.js#L695-L703\n        if (this.accessibleFieldEl) {\n            this.el.classList.add('is-bound');\n            document.body.appendChild(this.el);\n\n            this.accessibleFieldEl.addEventListener('blur', this.handleBlur);\n\n            this.hide();\n        }\n    }\n\n    handleBlur = () => {\n        this.hide();\n    };\n\n    handleClickOutside = (event: MouseEvent) => {\n        if (\n            this.isVisible() &&\n            this.datePickerButtonEl &&\n            this.datePickerButtonEl.contains(event.target as HTMLElement)\n        ) {\n            return;\n        }\n\n        if (this.isVisible() && !this.el.contains(event.target as HTMLElement)) {\n            this.hide();\n\n            const currentFocusEl = document.activeElement as HTMLElement;\n            if (this.accessibleFieldEl && currentFocusEl && currentFocusEl.tabIndex < 0) {\n                this.accessibleFieldEl.focus();\n            }\n        }\n    };\n\n    show() {\n        super.show();\n        if (this.accessibleFieldEl) {\n            document.addEventListener('click', this.handleClickOutside, true);\n            this.adjustPosition();\n        }\n    }\n\n    hide() {\n        super.hide();\n        if (this.accessibleFieldEl) {\n            document.removeEventListener('click', this.handleClickOutside);\n        }\n    }\n\n    destroy() {\n        super.destroy();\n        if (this.accessibleFieldEl) {\n            this.accessibleFieldEl.removeEventListener('blur', this.handleBlur);\n            document.removeEventListener('click', this.handleClickOutside);\n        }\n    }\n}\n\nexport default AccessiblePikaday;\n","// extracted by mini-css-extract-plugin","import * as React from 'react';\nimport { defineMessages, injectIntl, FormattedMessage, WrappedComponentProps } from 'react-intl';\n\nimport classNames from 'classnames';\nimport noop from 'lodash/noop';\nimport range from 'lodash/range';\nimport uniqueId from 'lodash/uniqueId';\n\n// @ts-ignore flow import\nimport { RESIN_TAG_TARGET } from '../../common/variables';\nimport Alert16 from '../../icon/fill/Alert16';\nimport Calendar16 from '../../icon/fill/Calendar16';\nimport ClearBadge16 from '../../icon/fill/ClearBadge16';\n\nimport AccessiblePikaday, { AccessiblePikadayOptions } from './AccessiblePikaday';\nimport { ButtonType } from '../button';\nimport Label from '../label';\nimport PlainButton from '../plain-button';\nimport Tooltip, { TooltipPosition, TooltipTheme } from '../tooltip';\n\n// @ts-ignore flow import\nimport { convertDateToUnixMidnightTime } from '../../utils/datetime';\n\nimport './DatePicker.scss';\n\nconst messages = defineMessages({\n    previousMonth: {\n        defaultMessage: 'Previous Month',\n        description: 'Previous month button for a date picker calendar',\n        id: 'boxui.base.previousMonth',\n    },\n    nextMonth: {\n        defaultMessage: 'Next Month',\n        description: 'Next month button for a date picker calendar',\n        id: 'boxui.base.nextMonth',\n    },\n    iconAlertText: {\n        defaultMessage: 'Invalid Date',\n        description: 'Date entered is invalid',\n        id: 'boxui.datePicker.iconAlertText',\n    },\n    dateClearButton: {\n        defaultMessage: 'Clear Date',\n        description: 'Button for clearing date picker',\n        id: 'boxui.datePicker.dateClearButton',\n    },\n    chooseDate: {\n        defaultMessage: 'Choose Date',\n        description: 'Button for opening date picker',\n        id: 'boxui.datePicker.chooseDate',\n    },\n    dateInputRangeError: {\n        defaultMessage: 'Please enter a date between {minLocaleDate} and {maxLocaleDate}',\n        description: 'Error message when date is out of the minimum and maximum range',\n        id: 'boxui.datePicker.dateInputRangeError',\n    },\n    dateInputMaxError: {\n        defaultMessage: 'Please enter a date before {maxLocaleDate}',\n        description: 'Error message when date is later than the maximum date',\n        id: 'boxui.datePicker.dateInputMaxError',\n    },\n    dateInputMinError: {\n        defaultMessage: 'Please enter a date after {minLocaleDate}',\n        description: 'Error message when date is earlier than the minimum date',\n        id: 'boxui.datePicker.dateInputMinError',\n    },\n});\n\nconst TOGGLE_DELAY_MS = 300;\nconst ENTER_KEY = 'Enter';\nconst ESCAPE_KEY = 'Escape';\nconst TAB_KEY = 'Tab';\n\nconst ISO_DATE_FORMAT_PATTERN = /^\\d{4}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/;\n\nexport enum DateFormat {\n    ISO_STRING_DATE_FORMAT = 'isoString',\n    LOCALE_DATE_STRING_DATE_FORMAT = 'localeDateString',\n    UTC_TIME_DATE_FORMAT = 'utcTime',\n    UNIX_TIME_DATE_FORMAT = 'unixTime',\n    UTC_ISO_STRING_DATE_FORMAT = 'utcISOString',\n}\n\n/**\n * Converts date from being relative to GMT, to being relative to browser\n * timezone. E.g., Thu Jun 29 2017 00:00:00 GMT =>\n * Thu Jun 29 2017 00:00:00 GMT-0700 (PDT)\n * @param {Date} date UTC date\n * @returns {Date} date Local date\n */\nfunction convertUTCToLocal(date: Date) {\n    const dateString = date.toUTCString();\n    // Remove ` GMT` from the timestamp string\n    const dateStringWithoutTimeZone = dateString.slice(0, -4);\n    return new Date(dateStringWithoutTimeZone);\n}\n\nfunction getFormattedDate(date: Date | null, format: DateFormat) {\n    if (!date) {\n        return '';\n    }\n\n    let utcDate;\n\n    switch (format) {\n        case DateFormat.ISO_STRING_DATE_FORMAT:\n            return date.toISOString();\n        case DateFormat.LOCALE_DATE_STRING_DATE_FORMAT:\n            return date.toLocaleDateString();\n        case DateFormat.UTC_TIME_DATE_FORMAT:\n            return convertDateToUnixMidnightTime(date);\n        case DateFormat.UTC_ISO_STRING_DATE_FORMAT:\n            utcDate = new Date(convertDateToUnixMidnightTime(date));\n            return utcDate.toISOString();\n        default:\n            return date.getTime();\n    }\n}\n\nconst localesWhereWeekStartsOnSunday = ['en-US', 'en-CA', 'jp-JP'];\n\nexport interface DatePickerProps extends WrappedComponentProps {\n    /** Add a css class to the component */\n    className?: string;\n    /** Custom input field */\n    customInput?: React.ReactElement;\n    /** The format of the date value for form submit */\n    dateFormat?: DateFormat;\n    /** Some optional description */\n    description?: React.ReactNode;\n    /**\n     * The format of the date displayed in the input field\n     * @deprecated, will no longer be supported with accessible mode enabled (isAccessible = true)\n     */\n    displayFormat?: {\n        [key: string]: string;\n    };\n    /** Error message */\n    error?: React.ReactNode;\n    /** Position of error message tooltip */\n    errorTooltipPosition?: TooltipPosition;\n    /** Whether to show or hide the field's label */\n    hideLabel?: boolean;\n    /** Whether show or hide the 'Optional' label */\n    hideOptionalLabel?: boolean;\n    /** Props that will be applied on the input element */\n    inputProps?: Object;\n    /** Does the date input meet accessibility standards */\n    isAccessible?: boolean;\n    /** Is the calendar always visible */\n    isAlwaysVisible?: boolean;\n    /** Is input clearable */\n    isClearable?: boolean;\n    /** Is input disabled */\n    isDisabled?: boolean;\n    /** Is input required */\n    isRequired?: boolean;\n    /** Enables pikaday's default keyboard input support */\n    isKeyboardInputAllowed?: boolean;\n    /** Is user allowed to manually input a value (WARNING: this doesn't work with internationalization) */\n    isTextInputAllowed?: boolean;\n    /** Label displayed for the text input */\n    label: React.ReactNode;\n    /** The maximum date allowed to be selected */\n    maxDate?: Date;\n    /** The minimum date allowed to be selected */\n    minDate?: Date;\n    /** Name of the text input */\n    name?: string;\n    /** Called when input loses focus */\n    onBlur?: ((event: React.FocusEvent<HTMLInputElement>) => void) | undefined;\n    /** Called when input is changed, passed the selected Date */\n    onChange?: Function;\n    /** Called when input receives focus */\n    onFocus?: ((event: React.FocusEvent<HTMLInputElement>) => void) | undefined;\n    /** Placeholder for the text input */\n    placeholder?: string;\n    /** Resin tag */\n    resinTarget?: string;\n    /** Date to set the input */\n    value?: Date | null;\n    /** Number of years, or an array containing an upper and lower range */\n    yearRange?: number | Array<number>;\n}\n\ninterface DatePickerState {\n    /** Is the date input invalid */\n    isDateInputInvalid: boolean;\n    /** Shows error message tooltip for invalid date input */\n    showDateInputError: boolean;\n}\n\nclass DatePicker extends React.Component<DatePickerProps, DatePickerState> {\n    static defaultProps = {\n        className: '',\n        dateFormat: DateFormat.UNIX_TIME_DATE_FORMAT,\n        displayFormat: {},\n        error: '',\n        errorTooltipPosition: TooltipPosition.BOTTOM_LEFT,\n        inputProps: {},\n        isClearable: true,\n        isKeyboardInputAllowed: false,\n        isTextInputAllowed: false,\n        yearRange: 10,\n    };\n\n    state = {\n        isDateInputInvalid: false,\n        showDateInputError: false,\n    };\n\n    errorMessageID = uniqueId('errorMessage');\n\n    descriptionID = uniqueId('description');\n\n    componentDidMount() {\n        const {\n            customInput,\n            dateFormat,\n            displayFormat,\n            intl,\n            isAccessible,\n            isAlwaysVisible,\n            isTextInputAllowed,\n            maxDate,\n            minDate,\n            onChange,\n            value,\n            yearRange,\n        } = this.props;\n        const { formatDate, formatMessage } = intl;\n        const { nextMonth, previousMonth } = messages;\n        let defaultValue = value;\n\n        if (isAccessible && this.shouldUseAccessibleFallback()) {\n            this.canUseDateInputType = false;\n        }\n\n        // When date format is utcTime, initial date needs to be converted from being relative to GMT to being\n        // relative to browser timezone\n        if (dateFormat === DateFormat.UTC_TIME_DATE_FORMAT && value) {\n            defaultValue = convertUTCToLocal(value);\n\n            if (onChange) {\n                const formattedDate = this.formatValue(defaultValue);\n                onChange(defaultValue, formattedDate);\n            }\n        }\n        // Make sure the DST detection algorithm in browsers is up-to-date\n        const year = new Date().getFullYear();\n        const { timeZone } = displayFormat || {};\n        const i18n = {\n            previousMonth: formatMessage(previousMonth),\n            nextMonth: formatMessage(nextMonth),\n            months: range(12).map(month =>\n                formatDate(new Date(year, month, 15), {\n                    month: 'long',\n                    timeZone,\n                }),\n            ),\n            // weekdays must start with Sunday, so array of dates below is May 1st-8th, 2016\n            weekdays: range(1, 8).map(date =>\n                formatDate(new Date(2016, 4, date), {\n                    weekday: 'long',\n                    timeZone,\n                }),\n            ),\n            weekdaysShort: range(1, 8).map(date =>\n                formatDate(new Date(2016, 4, date), {\n                    weekday: 'narrow',\n                    timeZone,\n                }),\n            ),\n        };\n\n        // If \"bound\" is true (default), the DatePicker will be appended at the end of the document, with absolute positioning\n        // If \"bound\" is false, the DatePicker will be appended to the DOM right after the input, with relative positioning\n        const datePickerConfig: AccessiblePikadayOptions = {\n            bound: !customInput,\n            blurFieldOnSelect: false, // Available in pikaday > 1.5.1\n            setDefaultDate: true,\n            defaultDate: defaultValue === null ? undefined : defaultValue,\n            field: this.dateInputEl,\n            firstDay: localesWhereWeekStartsOnSunday.includes(intl.locale) ? 0 : 1,\n            maxDate,\n            minDate,\n            position: 'bottom left',\n            i18n,\n            showDaysInNextAndPreviousMonths: true,\n            onSelect: this.onSelectHandler,\n            yearRange,\n            toString: this.formatDisplay,\n        };\n\n        if (isAccessible) {\n            if (this.canUseDateInputType) {\n                delete datePickerConfig.field;\n                datePickerConfig.trigger = this.dateInputEl;\n                datePickerConfig.accessibleFieldEl = this.dateInputEl;\n                datePickerConfig.datePickerButtonEl = this.datePickerButtonEl;\n            }\n\n            datePickerConfig.parse = this.parseDisplayDateType;\n            datePickerConfig.toString = this.formatDisplayDateType;\n            datePickerConfig.keyboardInput = false;\n        }\n\n        this.datePicker = new AccessiblePikaday(datePickerConfig);\n\n        if (isTextInputAllowed) {\n            this.updateDateInputValue(this.formatDisplay(defaultValue));\n        }\n\n        if (isAlwaysVisible) {\n            this.datePicker.show();\n            this.datePicker.hide = noop;\n        }\n    }\n\n    // eslint-disable-next-line camelcase\n    UNSAFE_componentWillReceiveProps(nextProps: DatePickerProps) {\n        if (!this.datePicker) return;\n\n        const { value: nextValue = null, minDate: nextMinDate = null, maxDate: nextMaxDate = null } = nextProps;\n        const { value, minDate, maxDate, isTextInputAllowed } = this.props;\n        const selectedDate = this.datePicker && this.datePicker.getDate();\n\n        // only set date when props change\n        if (\n            (nextValue && !value) ||\n            (!nextValue && value) ||\n            (nextValue && value && nextValue.getTime() !== value.getTime())\n        ) {\n            this.datePicker.setDate(nextValue);\n        }\n        // If text input is allowed the dateInputEl will act as an uncontrolled input and\n        // we need to set formatted value manually.\n        if (isTextInputAllowed) {\n            this.updateDateInputValue(this.formatDisplay(nextValue));\n        }\n        if (\n            (nextMinDate && !minDate) ||\n            (nextMinDate && minDate) ||\n            (nextMinDate && minDate && nextMinDate.getTime() !== minDate.getTime())\n        ) {\n            this.datePicker.setMinDate(nextMinDate);\n\n            if (selectedDate && selectedDate < nextMinDate) {\n                this.datePicker.gotoDate(nextMinDate);\n            }\n        }\n        if (\n            (nextMaxDate && !maxDate) ||\n            (!nextMaxDate && maxDate) ||\n            (nextMaxDate && maxDate && nextMaxDate.getTime() !== maxDate.getTime())\n        ) {\n            this.datePicker.setMaxDate(nextMaxDate);\n\n            if (selectedDate && nextMaxDate && selectedDate > nextMaxDate) {\n                this.datePicker.gotoDate(nextMaxDate);\n            }\n        }\n    }\n\n    componentWillUnmount() {\n        if (this.datePicker) {\n            this.datePicker.destroy();\n        }\n    }\n\n    onSelectHandler = (date: Date | null = null) => {\n        const { onChange, isAccessible } = this.props;\n        const { isDateInputInvalid } = this.state;\n\n        if (onChange) {\n            const formattedDate = this.formatValue(date);\n            onChange(date, formattedDate);\n        }\n\n        if (isAccessible) {\n            if (this.dateInputEl && this.datePicker) {\n                // Required because Pikaday instance is unbound\n                // See https://github.com/Pikaday/Pikaday#usage\n                this.dateInputEl.value = this.datePicker.toString();\n            }\n            if (this.datePicker && this.datePicker.isVisible()) {\n                this.datePicker.hide();\n                this.focusDatePicker();\n            }\n        }\n\n        if (isDateInputInvalid) {\n            this.setState({ isDateInputInvalid: false, showDateInputError: false });\n        }\n    };\n\n    updateDateInputValue(value: string) {\n        if (this.dateInputEl) {\n            this.dateInputEl.value = value;\n        }\n    }\n\n    dateInputEl: HTMLInputElement | null | undefined;\n\n    datePicker: Pikaday | null = null;\n\n    datePickerButtonEl: HTMLButtonElement | HTMLDivElement | null | undefined;\n\n    // Used to detect when a fallback is necessary when isAccessible is enabled\n    canUseDateInputType = true;\n\n    // Used to prevent bad sequences of hide/show when toggling the datepicker button\n    shouldStayClosed = false;\n\n    focusDatePicker = () => {\n        // This also opens the date picker when isAccessible is disabled\n        if (this.dateInputEl) {\n            this.dateInputEl.focus();\n        }\n    };\n\n    getDateInputError = () => {\n        const { intl, maxDate = null, minDate = null } = this.props;\n        const { showDateInputError } = this.state;\n        const { formatMessage } = intl;\n\n        if (!showDateInputError) return '';\n\n        let dateInputError = '';\n        const maxLocaleDate = getFormattedDate(maxDate, DateFormat.LOCALE_DATE_STRING_DATE_FORMAT);\n        const minLocaleDate = getFormattedDate(minDate, DateFormat.LOCALE_DATE_STRING_DATE_FORMAT);\n\n        if (maxLocaleDate && minLocaleDate) {\n            dateInputError = formatMessage(messages.dateInputRangeError, { maxLocaleDate, minLocaleDate });\n        } else if (maxLocaleDate) {\n            dateInputError = formatMessage(messages.dateInputMaxError, { maxLocaleDate });\n        } else if (minLocaleDate) {\n            dateInputError = formatMessage(messages.dateInputMinError, { minLocaleDate });\n        }\n\n        return dateInputError;\n    };\n\n    handleInputKeyDown = (event: React.KeyboardEvent<HTMLInputElement>) => {\n        const { isKeyboardInputAllowed, isTextInputAllowed, isAccessible } = this.props;\n\n        if (!isKeyboardInputAllowed && this.datePicker && this.datePicker.isVisible()) {\n            event.stopPropagation();\n        }\n\n        // Stops up/down arrow & spacebar from moving page scroll position since pikaday does not preventDefault correctly\n        if (!(isTextInputAllowed || isAccessible) && event.key !== TAB_KEY) {\n            event.preventDefault();\n        }\n\n        if ((isTextInputAllowed || (isAccessible && !this.canUseDateInputType)) && event.key === ENTER_KEY) {\n            event.preventDefault();\n        }\n\n        // Stops enter & spacebar from opening up the browser's default date picker\n        if (isAccessible && (event.key === ENTER_KEY || event.key === ' ')) {\n            event.preventDefault();\n        }\n\n        if (event.key === ENTER_KEY || event.key === ESCAPE_KEY || event.key === ' ') {\n            // Since pikaday auto-selects when you move the select box, enter/space don't do anything but close the date picker\n            if (this.datePicker && this.datePicker.isVisible()) {\n                this.datePicker.hide();\n            }\n        }\n    };\n\n    handleOnChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        const { isAccessible, maxDate, minDate, onChange } = this.props;\n        const { isDateInputInvalid } = this.state;\n\n        if (!isAccessible || !this.canUseDateInputType) {\n            return;\n        }\n\n        if (this.datePicker && this.datePicker.isVisible()) {\n            event.stopPropagation();\n        }\n\n        const { value } = event.target;\n        if (this.datePicker && value) {\n            const parsedDate = this.parseDisplayDateType(value);\n\n            if (parsedDate) {\n                if ((minDate && parsedDate < minDate) || (maxDate && parsedDate > maxDate)) {\n                    this.datePicker.setDate(null);\n                    this.setState({ isDateInputInvalid: true });\n                    return;\n                }\n                // Reset the error styling on valid date input\n                if (isDateInputInvalid) {\n                    this.setState({ isDateInputInvalid: false, showDateInputError: false });\n                }\n            } else {\n                this.setState({ isDateInputInvalid: true });\n            }\n\n            // Set date so Pikaday date picker value stays in sync with input\n            this.datePicker.setDate(parsedDate, true);\n\n            if (onChange) {\n                const formattedDate = this.formatValue(parsedDate);\n                onChange(parsedDate, formattedDate);\n            }\n        } else if (isDateInputInvalid) {\n            this.setState({ isDateInputInvalid: false, showDateInputError: false });\n        }\n    };\n\n    handleInputBlur = (event: React.FocusEvent<HTMLInputElement>) => {\n        const { isAccessible, isTextInputAllowed, onBlur } = this.props;\n        const { isDateInputInvalid } = this.state;\n        const nextActiveElement = event.relatedTarget || document.activeElement;\n\n        // This is mostly here to cancel out the pikaday hide() on blur\n        if (\n            this.datePicker &&\n            this.datePicker.isVisible() &&\n            nextActiveElement &&\n            nextActiveElement === this.datePickerButtonEl\n        ) {\n            this.shouldStayClosed = true;\n            setTimeout(() => {\n                this.shouldStayClosed = false;\n            }, TOGGLE_DELAY_MS);\n        }\n\n        if (onBlur) {\n            onBlur(event);\n        }\n\n        // Since we fire parent onChange event if isTextInputAllowed,\n        // fire it on blur if the user typed a correct date format\n        let inputDate: Date | null | undefined = null;\n\n        if (this.dateInputEl) {\n            let dateInputElVal = null;\n            if (isAccessible && !this.canUseDateInputType) {\n                dateInputElVal = this.parseDisplayDateType(this.dateInputEl.value);\n            }\n            inputDate = new Date(dateInputElVal || this.dateInputEl.value);\n        }\n\n        if ((isTextInputAllowed || (isAccessible && !this.canUseDateInputType)) && inputDate && inputDate.getDate()) {\n            this.onSelectHandler(inputDate);\n        }\n\n        if (isAccessible && isDateInputInvalid) this.setState({ showDateInputError: true });\n    };\n\n    handleButtonClick = (event: React.SyntheticEvent<HTMLButtonElement>) => {\n        event.preventDefault();\n        event.stopPropagation();\n        const { isAccessible, isDisabled } = this.props;\n\n        if (isAccessible) {\n            if (isDisabled || !this.datePicker) {\n                return;\n            }\n\n            if (this.datePicker.isVisible()) {\n                this.datePicker.hide();\n                this.focusDatePicker();\n            } else {\n                this.datePicker.show();\n            }\n            return;\n        }\n\n        if (!this.shouldStayClosed) {\n            this.focusDatePicker();\n        }\n    };\n\n    handleOnClick = (event: React.SyntheticEvent<HTMLInputElement>) => {\n        const { isAccessible } = this.props;\n\n        if (isAccessible) {\n            // Suppress Firefox default behavior: clicking on input type \"date\"\n            // opens the browser date picker.\n            event.preventDefault();\n            event.stopPropagation();\n        }\n    };\n\n    formatDisplay = (date?: Date | null): string => {\n        const { displayFormat, intl } = this.props;\n        return date ? intl.formatDate(date, displayFormat) : '';\n    };\n\n    formatDisplayDateType = (date?: Date | null): string => {\n        // Input type \"date\" only accepts the format YYYY-MM-DD\n        return date ? getFormattedDate(date, DateFormat.UTC_ISO_STRING_DATE_FORMAT).slice(0, 10) : '';\n    };\n\n    parseDisplayDateType = (dateString?: string | null): Date | null => {\n        if (dateString && ISO_DATE_FORMAT_PATTERN.test(dateString)) {\n            // Calling new Date('YYYY-MM-DD') without 'T00:00:00' yields undesired results:\n            // E.g. new Date('2017-06-01') => May 31 2017\n            // E.g. new Date('2017-06-01T00:00:00') => June 01 2017\n            // See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/Date#parameters\n            return new Date(`${dateString}T00:00:00`);\n        }\n        return null;\n    };\n\n    formatValue = (date: Date | null): string | number => {\n        const { dateFormat } = this.props;\n        return dateFormat ? getFormattedDate(date, dateFormat) : '';\n    };\n\n    clearDate = (event: React.SyntheticEvent<HTMLButtonElement>) => {\n        // Prevents the date picker from opening after clearing\n        event.preventDefault();\n        const { isAccessible } = this.props;\n\n        if (this.datePicker) {\n            this.datePicker.setDate(null);\n        }\n        this.onSelectHandler(null);\n\n        if (isAccessible) {\n            this.focusDatePicker();\n        }\n    };\n\n    /** Determines whether a new date input falls back to a text input or not */\n    shouldUseAccessibleFallback = (): boolean => {\n        const test = document.createElement('input');\n\n        try {\n            test.type = 'date';\n        } catch (e) {\n            // no-op\n        }\n\n        // If date input falls back to text input, show the fallback\n        return test.type === 'text';\n    };\n\n    renderCalendarButton = () => {\n        const { intl, isAccessible, isAlwaysVisible, isDisabled } = this.props;\n        const { formatMessage } = intl;\n\n        if (isAlwaysVisible) {\n            return null;\n        }\n\n        // De-emphasizing the Pikaday date picker because it does not meet accessibility standards\n        // Screenreaders & navigating via keyboard will no longer pick up on this element\n        const accessibleAttrs = isAccessible ? { 'aria-hidden': true, tabIndex: -1 } : {};\n\n        return (\n            <PlainButton\n                aria-label={formatMessage(messages.chooseDate)}\n                className=\"date-picker-open-btn\"\n                getDOMRef={ref => {\n                    this.datePickerButtonEl = ref;\n                }}\n                isDisabled={isDisabled}\n                onClick={this.handleButtonClick}\n                type={ButtonType.BUTTON}\n                {...accessibleAttrs}\n            >\n                <Calendar16 />\n            </PlainButton>\n        );\n    };\n\n    render() {\n        const {\n            className,\n            customInput,\n            description,\n            error,\n            errorTooltipPosition,\n            hideLabel,\n            hideOptionalLabel,\n            inputProps,\n            intl,\n            isAccessible,\n            isClearable,\n            isDisabled,\n            isRequired,\n            isTextInputAllowed,\n            label,\n            maxDate,\n            minDate,\n            name,\n            onFocus,\n            placeholder,\n            resinTarget,\n            value,\n        } = this.props;\n        const { isDateInputInvalid } = this.state;\n        const { formatMessage } = intl;\n\n        const errorMessage = error || this.getDateInputError();\n        const hasError = !!errorMessage || isDateInputInvalid;\n        const hasValue = !!value || isDateInputInvalid;\n\n        const classes = classNames(className, 'date-picker-wrapper', {\n            'show-clear-btn': isClearable && hasValue && !isDisabled,\n            'show-error': hasError,\n        });\n\n        const ariaAttrs = {\n            'aria-invalid': hasError,\n            'aria-required': isRequired,\n            'aria-errormessage': this.errorMessageID,\n            'aria-describedby': description ? this.descriptionID : undefined,\n        };\n\n        const resinTargetAttr = resinTarget ? { [RESIN_TAG_TARGET]: resinTarget } : {};\n\n        let valueAttr;\n        if (isAccessible) {\n            valueAttr = { defaultValue: this.formatDisplayDateType(value) };\n        } else if (isTextInputAllowed) {\n            valueAttr = { defaultValue: this.formatDisplay(value) };\n        } else {\n            valueAttr = { value: this.formatDisplay(value) };\n        }\n\n        let onChangeAttr;\n        if (isAccessible && this.canUseDateInputType) {\n            onChangeAttr = { onChange: this.handleOnChange };\n        } else if (isTextInputAllowed || (isAccessible && !this.canUseDateInputType)) {\n            onChangeAttr = {};\n        } else {\n            // Fixes prop type error about read-only field\n            // Not adding readOnly so constraint validation works\n            onChangeAttr = { onChange: noop };\n        }\n\n        let additionalAttrs;\n        if (isAccessible && this.canUseDateInputType) {\n            additionalAttrs = {\n                max: this.formatDisplayDateType(maxDate) || '9999-12-31',\n                min: this.formatDisplayDateType(minDate) || '0001-01-01',\n            };\n        } else if (isAccessible && !this.canUseDateInputType) {\n            // \"name\" prop is required for pattern validation to be surfaced on form submit. See components/form-elements/form/Form.js\n            // \"title\" prop is shown during constraint validation as a description of the pattern\n            // See https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/pattern#usability\n            additionalAttrs = { name, pattern: ISO_DATE_FORMAT_PATTERN.source, title: 'YYYY-MM-DD' };\n        } else {\n            additionalAttrs = {};\n        }\n\n        return (\n            <div className={classes}>\n                <span className=\"date-picker-icon-holder\">\n                    <Label hideLabel={hideLabel} showOptionalText={!hideOptionalLabel && !isRequired} text={label}>\n                        <>\n                            {!!description && (\n                                <div id={this.descriptionID} className=\"date-picker-description\">\n                                    {description}\n                                </div>\n                            )}\n                            <Tooltip\n                                className=\"date-picker-error-tooltip\"\n                                isShown={!!errorMessage}\n                                position={errorTooltipPosition}\n                                text={errorMessage || ''}\n                                theme={TooltipTheme.ERROR}\n                            >\n                                {customInput ? (\n                                    React.cloneElement(customInput, {\n                                        disabled: isDisabled,\n                                        ref: (ref: HTMLInputElement) => {\n                                            this.dateInputEl = ref;\n                                        },\n                                        required: isRequired,\n                                        ...resinTargetAttr,\n                                        ...ariaAttrs,\n                                    })\n                                ) : (\n                                    <input\n                                        ref={ref => {\n                                            this.dateInputEl = ref;\n                                        }}\n                                        className=\"date-picker-input\"\n                                        disabled={isDisabled}\n                                        onBlur={this.handleInputBlur}\n                                        onClick={this.handleOnClick}\n                                        placeholder={placeholder || formatMessage(messages.chooseDate)}\n                                        required={isRequired}\n                                        type={isAccessible && this.canUseDateInputType ? 'date' : 'text'}\n                                        {...onChangeAttr}\n                                        onFocus={onFocus}\n                                        onKeyDown={this.handleInputKeyDown}\n                                        {...resinTargetAttr}\n                                        {...ariaAttrs}\n                                        {...inputProps}\n                                        {...valueAttr}\n                                        {...additionalAttrs}\n                                    />\n                                )}\n                            </Tooltip>\n                            <span id={this.errorMessageID} className=\"accessibility-hidden\" role=\"alert\">\n                                {errorMessage}\n                            </span>\n                        </>\n                    </Label>\n                    {isClearable && hasValue && !isDisabled ? (\n                        <PlainButton\n                            aria-label={formatMessage(messages.dateClearButton)}\n                            className=\"date-picker-clear-btn\"\n                            onClick={this.clearDate}\n                            type={ButtonType.BUTTON}\n                        >\n                            <ClearBadge16 />\n                        </PlainButton>\n                    ) : null}\n                    {hasError ? (\n                        <Alert16\n                            className=\"date-picker-icon-alert\"\n                            title={<FormattedMessage {...messages.iconAlertText} />}\n                        />\n                    ) : null}\n                    {this.renderCalendarButton()}\n                    <input\n                        className=\"date-picker-unix-time-input\"\n                        name={name}\n                        readOnly\n                        type=\"hidden\"\n                        value={value ? this.formatValue(value) : ''}\n                    />\n                </span>\n            </div>\n        );\n    }\n}\n\nexport { DatePicker as DatePickerBase };\nexport default injectIntl(DatePicker);\n","// @flow\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport TetherComponent from 'react-tether';\nimport uniqueId from 'lodash/uniqueId';\nimport { KEYS } from '../../constants';\n\nimport FlyoutContext from './FlyoutContext';\n\nimport './Flyout.scss';\n\nconst BOTTOM_CENTER = 'bottom-center';\nconst BOTTOM_LEFT = 'bottom-left';\nconst BOTTOM_RIGHT = 'bottom-right';\nconst MIDDLE_LEFT = 'middle-left';\nconst MIDDLE_RIGHT = 'middle-right';\nconst TOP_CENTER = 'top-center';\nconst TOP_LEFT = 'top-left';\nconst TOP_RIGHT = 'top-right';\n\nconst positions = {\n    [BOTTOM_CENTER]: {\n        attachment: 'top center',\n        targetAttachment: 'bottom center',\n    },\n    [BOTTOM_LEFT]: {\n        attachment: 'top right',\n        targetAttachment: 'bottom right',\n    },\n    [BOTTOM_RIGHT]: {\n        attachment: 'top left',\n        targetAttachment: 'bottom left',\n    },\n    [MIDDLE_LEFT]: {\n        attachment: 'middle right',\n        targetAttachment: 'middle left',\n    },\n    [MIDDLE_RIGHT]: {\n        attachment: 'middle left',\n        targetAttachment: 'middle right',\n    },\n    [TOP_CENTER]: {\n        attachment: 'bottom center',\n        targetAttachment: 'top center',\n    },\n    [TOP_LEFT]: {\n        attachment: 'bottom right',\n        targetAttachment: 'top right',\n    },\n    [TOP_RIGHT]: {\n        attachment: 'bottom left',\n        targetAttachment: 'top left',\n    },\n};\n\n/**\n * Checks if there is a clickable ancestor or self\n * @param {Node} rootNode The base node we should stop at\n * @param {Node} targetNode The target node of the event\n * @returns {boolean}\n */\nconst hasClickableAncestor = (rootNode, targetNode) => {\n    // Check if the element or any of the ancestors are click-able (stopping at the component boundary)\n    let currentNode = targetNode;\n    while (currentNode && currentNode instanceof Node && currentNode.parentNode && currentNode !== rootNode) {\n        const nodeName = currentNode.nodeName.toUpperCase();\n        if (nodeName === 'A' || nodeName === 'BUTTON') {\n            return true;\n        }\n        currentNode = currentNode.parentNode;\n    }\n    return false;\n};\n\n/**\n * Checks if the target element is inside an element with the given CSS class.\n * @param {HTMLElement} targetEl The target element\n * @param {string} className A CSS class on the element to check for\n */\nconst hasClassAncestor = (targetEl, className) => {\n    let el = targetEl;\n    while (el && el instanceof HTMLElement) {\n        if (el.classList.contains(className)) {\n            return true;\n        }\n        el = el.parentNode;\n    }\n    return false;\n};\n\nexport type FlyoutProps = {\n    children: React.Node,\n    /**\n     * Set className to the overlay wrapper\n     */\n    className?: string,\n    /**\n     * If set to true, closes the overlay on clicking buttons/links inside\n     * of it\n     */\n    closeOnClick?: boolean,\n    /**\n     * If set to true, closes the overlay on clicking outside of it\n     */\n    closeOnClickOutside?: boolean,\n    /**\n     * Function that will interrogate the click event to determine whether or not to close the overlay if closeOnClick is enabled\n     */\n    closeOnClickPredicate?: Function,\n    /**\n     * If set to true, closes the overlay when window loses focus\n     */\n    closeOnWindowBlur?: boolean,\n    /**\n     * Sets tether constrain to scrollParent\n     */\n    constrainToScrollParent?: boolean,\n    /**\n     * Sets tether constrain to window\n     */\n    constrainToWindow?: boolean,\n    /**\n     * Toggles responsive behavior\n     */\n    isResponsive?: boolean,\n    /**\n     * Whether overlay should be visible by default\n     */\n    isVisibleByDefault: boolean,\n    /**\n     * Will fire this callback when the flyout should open\n     */\n    offset?: string,\n    /**\n     * Will fire this callback when the flyout should close\n     */\n    onClose?: Function,\n    /**\n     * Adjusts placement of the overlay (SEE http://tether.io/#options)\n     */\n    onOpen?: Function,\n    /**\n     * Whether overlay should open on hover\n     */\n    openOnHover?: boolean,\n    /**\n     * Time in milliseconds that the button should wait before opening and closing the flyout\n     */\n    openOnHoverDelayTimeout?: number,\n    /** An array of CSS classes for portaled elements in the overlay, used to check whether a click is inside the overlay */\n    portaledClasses: Array<string>,\n    /**\n     * Position of the overlay\n     */\n    position:\n        | 'bottom-center'\n        | 'bottom-left'\n        | 'bottom-right'\n        | 'middle-left'\n        | 'middle-right'\n        | 'top-center'\n        | 'top-left'\n        | 'top-right',\n    /**\n     * Prop whether to focus first focusable element or not\n     */\n    shouldDefaultFocus?: boolean,\n};\n\ntype State = {\n    isButtonClicked: boolean,\n    isVisible: boolean,\n};\n\ntype Props = FlyoutProps;\n\nclass Flyout extends React.Component<Props, State> {\n    static defaultProps = {\n        className: '',\n        closeOnClick: true,\n        closeOnClickOutside: true,\n        closeOnWindowBlur: false,\n        constrainToScrollParent: true,\n        constrainToWindow: false,\n        isResponsive: false,\n        isVisibleByDefault: false,\n        openOnHover: false,\n        openOnHoverDelayTimeout: 300,\n        portaledClasses: [],\n        position: BOTTOM_RIGHT,\n    };\n\n    constructor(props: Props) {\n        super(props);\n\n        this.overlayID = uniqueId('overlay');\n        this.overlayButtonID = uniqueId('flyoutbutton');\n        this.state = {\n            isVisible: props.isVisibleByDefault,\n            isButtonClicked: false,\n        };\n    }\n\n    componentDidUpdate(prevProps: Props, prevState: State) {\n        if (!prevState.isVisible && this.state.isVisible) {\n            const { closeOnClickOutside, closeOnWindowBlur } = this.props;\n            // When overlay is being opened\n            if (closeOnClickOutside) {\n                document.addEventListener('click', this.handleDocumentClickOrWindowBlur, true);\n                document.addEventListener('contextmenu', this.handleDocumentClickOrWindowBlur, true);\n            }\n            if (closeOnWindowBlur) {\n                window.addEventListener('blur', this.handleDocumentClickOrWindowBlur, true);\n            }\n        } else if (prevState.isVisible && !this.state.isVisible) {\n            // When overlay is being closed\n            document.removeEventListener('contextmenu', this.handleDocumentClickOrWindowBlur, true);\n            document.removeEventListener('click', this.handleDocumentClickOrWindowBlur, true);\n            window.removeEventListener('blur', this.handleDocumentClickOrWindowBlur, true);\n        }\n    }\n\n    componentWillUnmount() {\n        if (this.state.isVisible) {\n            // Clean-up global click handlers\n            document.removeEventListener('contextmenu', this.handleDocumentClickOrWindowBlur, true);\n            document.removeEventListener('click', this.handleDocumentClickOrWindowBlur, true);\n            window.removeEventListener('blur', this.handleDocumentClickOrWindowBlur, true);\n        }\n\n        if (this.props.openOnHover && this.hoverDelay) {\n            clearTimeout(this.hoverDelay);\n        }\n    }\n\n    overlayButtonID: string;\n\n    overlayID: string;\n\n    handleOverlayClick = (event: SyntheticEvent<>) => {\n        const overlayNode = document.getElementById(this.overlayID);\n        const { closeOnClick, closeOnClickPredicate } = this.props;\n        if (!closeOnClick || !hasClickableAncestor(overlayNode, event.target)) {\n            return;\n        }\n        if (closeOnClickPredicate && !closeOnClickPredicate(event)) {\n            return;\n        }\n\n        this.handleOverlayClose();\n    };\n\n    handleButtonClick = (event: SyntheticUIEvent<>) => {\n        const { isVisible } = this.state;\n        if (isVisible) {\n            this.closeOverlay();\n        } else {\n            this.openOverlay();\n        }\n\n        // In at least one place, .click() is called programmatically\n        //     src/features/presence/Presence.js\n        // In the programmatic case, the event is not supposed to trigger\n        // autofocus of the content (TBD if this is truly correct behavior).\n        // This line was using \"event.detail > 0\"\n        // to detect if a click event was from a user, but that made keyboard\n        // triggers of the button click behave differently than the mouse.\n        // So, we use \"isTrusted\" instead. Note: React polyfills for IE11.\n        // https://developer.mozilla.org/en-US/docs/Web/API/Event/isTrusted\n        // https://reactjs.org/docs/events.html\n\n        const isButtonClicked = event.isTrusted;\n\n        this.setState({ isButtonClicked });\n\n        event.preventDefault();\n    };\n\n    hoverDelay: TimeoutID | void;\n\n    handleButtonHover = () => {\n        const { openOnHover, openOnHoverDelayTimeout } = this.props;\n        if (openOnHover) {\n            clearTimeout(this.hoverDelay);\n            this.hoverDelay = setTimeout(() => {\n                this.openOverlay();\n            }, openOnHoverDelayTimeout);\n        }\n    };\n\n    handleButtonHoverLeave = () => {\n        const { openOnHover, openOnHoverDelayTimeout } = this.props;\n        if (openOnHover) {\n            clearTimeout(this.hoverDelay);\n\n            this.hoverDelay = setTimeout(() => {\n                this.closeOverlay();\n            }, openOnHoverDelayTimeout);\n        }\n    };\n\n    handleKeyPress = () => {\n        if (KEYS.enter) {\n            this.openOverlay();\n            this.focusButton();\n        }\n    };\n\n    openOverlay = () => {\n        this.setState({\n            isVisible: true,\n        });\n\n        const { onOpen } = this.props;\n        if (onOpen) {\n            onOpen();\n        }\n    };\n\n    closeOverlay = () => {\n        this.setState({\n            isVisible: false,\n        });\n\n        const { onClose } = this.props;\n        if (onClose) {\n            onClose();\n        }\n    };\n\n    focusButton = () => {\n        const buttonEl = document.getElementById(this.overlayButtonID);\n        if (buttonEl) {\n            buttonEl.focus();\n        }\n    };\n\n    handleOverlayClose = () => {\n        this.focusButton();\n        this.closeOverlay();\n    };\n\n    handleDocumentClickOrWindowBlur = (event: MouseEvent | FocusEvent) => {\n        const { portaledClasses, closeOnClickOutside, closeOnWindowBlur } = this.props;\n        const { isVisible } = this.state;\n\n        if (!isVisible || !(closeOnClickOutside || closeOnWindowBlur)) {\n            return;\n        }\n\n        const overlayNode = document.getElementById(this.overlayID);\n        const buttonNode = document.getElementById(this.overlayButtonID);\n\n        const isInsideToggleButton =\n            (buttonNode && event.target instanceof Node && buttonNode.contains(event.target)) ||\n            buttonNode === event.target;\n        const isInsideOverlay =\n            (overlayNode && event.target instanceof Node && overlayNode.contains(event.target)) ||\n            overlayNode === event.target;\n        const isInside = isInsideToggleButton || isInsideOverlay;\n\n        if (isInside || portaledClasses.some(className => hasClassAncestor(event.target, className))) {\n            return;\n        }\n\n        // Only close overlay when the click is outside of the flyout or window loses focus\n        this.closeOverlay();\n    };\n\n    render() {\n        const {\n            children,\n            className = '',\n            constrainToScrollParent,\n            constrainToWindow,\n            isResponsive,\n            offset,\n            openOnHover,\n            position,\n            shouldDefaultFocus,\n        } = this.props;\n        const { isButtonClicked, isVisible } = this.state;\n        const elements = React.Children.toArray(children);\n        const tetherPosition = positions[position];\n\n        if (elements.length !== 2) {\n            throw new Error('Flyout must have exactly two children: A button component and a <Overlay>');\n        }\n\n        const overlayButton = elements[0];\n        const overlayContent = elements[1];\n\n        const overlayButtonProps: Object = {\n            id: this.overlayButtonID,\n            key: this.overlayButtonID,\n            onClick: this.handleButtonClick,\n            onKeyPress: this.handleKeyPress,\n            onMouseEnter: this.handleButtonHover,\n            onMouseLeave: this.handleButtonHoverLeave,\n            role: 'button',\n            tabIndex: '0',\n            'aria-haspopup': 'true',\n            'aria-expanded': isVisible ? 'true' : 'false',\n        };\n\n        if (isVisible) {\n            overlayButtonProps['aria-controls'] = this.overlayID;\n        }\n\n        const overlayProps = {\n            id: this.overlayID,\n            key: this.overlayID,\n            role: 'dialog',\n            onClick: this.handleOverlayClick,\n            onClose: this.handleOverlayClose,\n            onMouseEnter: this.handleButtonHover,\n            onMouseLeave: this.handleButtonHoverLeave,\n            shouldDefaultFocus: shouldDefaultFocus || (!isButtonClicked && !openOnHover),\n            'aria-labelledby': this.overlayButtonID,\n        };\n\n        const constraints = [];\n\n        if (constrainToScrollParent) {\n            constraints.push({\n                to: 'scrollParent',\n                attachment: 'together',\n            });\n        }\n\n        if (constrainToWindow) {\n            constraints.push({\n                to: 'window',\n                attachment: 'together',\n            });\n        }\n\n        const tetherProps: Object = {\n            classPrefix: 'flyout-overlay',\n            attachment: tetherPosition.attachment,\n            targetAttachment: tetherPosition.targetAttachment,\n            enabled: isVisible,\n            classes: {\n                element: classNames('flyout-overlay', { 'bdl-Flyout--responsive': isResponsive }, className),\n            },\n            constraints,\n        };\n\n        if (offset) {\n            tetherProps.offset = offset;\n        } else {\n            switch (position) {\n                case BOTTOM_CENTER:\n                case BOTTOM_LEFT:\n                case BOTTOM_RIGHT:\n                    tetherProps.offset = '-10px 0';\n                    break;\n                case TOP_CENTER:\n                case TOP_LEFT:\n                case TOP_RIGHT:\n                    tetherProps.offset = '10px 0';\n                    break;\n                case MIDDLE_LEFT:\n                    tetherProps.offset = '0 10px';\n                    break;\n                case MIDDLE_RIGHT:\n                    tetherProps.offset = '0 -10px';\n                    break;\n                default:\n                // no default\n            }\n        }\n\n        return (\n            <TetherComponent {...tetherProps}>\n                {React.cloneElement(overlayButton, overlayButtonProps)}\n                {isVisible && (\n                    <FlyoutContext.Provider value={{ closeOverlay: this.closeOverlay }}>\n                        {React.cloneElement(overlayContent, overlayProps)}\n                    </FlyoutContext.Provider>\n                )}\n            </TetherComponent>\n        );\n    }\n}\n\nexport default Flyout;\n","// extracted by mini-css-extract-plugin","// @flow\nimport * as React from 'react';\nimport noop from 'lodash/noop';\n\ntype FlyoutContextValues = {\n    closeOverlay: Function,\n};\n\nexport default React.createContext<FlyoutContextValues>({ closeOverlay: noop });\n","// @flow\nimport * as React from 'react';\nimport omit from 'lodash/omit';\n\nimport FocusTrap from '../focus-trap';\n\nexport type Props = {\n    /** Overlay contents */\n    children: React.Node,\n    /** Component class names */\n    className?: string,\n    onClick?: Function,\n    onClose?: Function,\n    shouldDefaultFocus?: boolean,\n};\n\nclass Overlay extends React.Component<Props> {\n    closeOverlay = () => {\n        const { onClose } = this.props;\n        if (!onClose) {\n            return;\n        }\n        setTimeout(() => onClose(), 0);\n    };\n\n    handleOverlayKeyDown = (event: SyntheticKeyboardEvent<>) => {\n        if (event.key !== 'Escape') {\n            return;\n        }\n        event.stopPropagation();\n        event.preventDefault();\n        this.closeOverlay();\n    };\n\n    render() {\n        const { children, className, ...rest } = this.props;\n        const overlayProps = omit(rest, ['onClose']);\n        overlayProps.className = className;\n        overlayProps.handleOverlayKeyDown = this.handleOverlayKeyDown;\n        overlayProps.tabIndex = 0;\n\n        return (\n            <FocusTrap {...overlayProps}>\n                <div className=\"overlay\">{children}</div>\n            </FocusTrap>\n        );\n    }\n}\n\nexport default Overlay;\n","// extracted by mini-css-extract-plugin","import * as React from 'react';\n\nimport classNames from 'classnames';\nimport CloseButton from '../close-button/CloseButton';\n// @ts-ignore flow\nimport FlyoutContext from './FlyoutContext';\n\nimport './OverlayHeader.scss';\n\nexport interface OverlayHeaderProps {\n    /** Components to render in the header */\n    children?: React.ReactNode;\n    /** Set className to the overlay header */\n    className?: string;\n}\n\nconst OverlayHeader = ({ children, className }: OverlayHeaderProps) => {\n    const handleClick = (event: React.SyntheticEvent<HTMLDivElement>): void => {\n        event.preventDefault();\n        event.stopPropagation();\n    };\n\n    const { closeOverlay } = React.useContext(FlyoutContext);\n\n    return (\n        <div\n            className={classNames('bdl-OverlayHeader', className)}\n            data-testid=\"bdl-OverlayHeader\"\n            onClick={handleClick}\n            role=\"presentation\"\n        >\n            <div className=\"bdl-OverlayHeader-content\">{children}</div>\n            <CloseButton onClick={closeOverlay} />\n        </div>\n    );\n};\n\nexport default OverlayHeader;\n","// @flow\nexport { default as Flyout } from './Flyout';\nexport { default as FlyoutContext } from './FlyoutContext';\nexport { default as Overlay } from './Overlay';\nexport { default as OverlayHeader } from './OverlayHeader';\n","import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport serialize from 'form-serialize';\n\nfunction getFormValidityState(form) {\n    // Turn the form.elements HTMLCollection into Array before reducing\n    return [].slice.call(form.elements).reduce((validityObj, inputEl) => {\n        // Only serialize inputs that have a name defined\n        if (inputEl.name && !inputEl.validity.valid) {\n            const validityState = inputEl.validity;\n\n            if (inputEl.validity.customError) {\n                // If the input is displaying a custom error,\n                // we expose the errorCode stored in the validationMessage\n                validityState.customErrorCode = inputEl.validationMessage;\n            }\n\n            validityObj[inputEl.name] = {\n                validityState,\n            };\n            return validityObj;\n        }\n        return validityObj;\n    }, {});\n}\n\nclass Form extends Component {\n    static propTypes = {\n        children: PropTypes.node,\n        /** Called when an input in the form changes */\n        onChange: PropTypes.func,\n        /** Called when a valid submit is made */\n        onValidSubmit: PropTypes.func.isRequired,\n        /** Called when an invalid submit is made */\n        onInvalidSubmit: PropTypes.func,\n        /** An object mapping input names to error messages */\n        formValidityState: PropTypes.object, // eslint-disable-line react/no-unused-prop-types\n    };\n\n    static childContextTypes = {\n        form: PropTypes.shape({\n            registerInput: PropTypes.func.isRequired,\n            unregisterInput: PropTypes.func.isRequired,\n        }).isRequired,\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            registeredInputs: {},\n        };\n    }\n\n    getChildContext() {\n        return {\n            form: {\n                registerInput: this.registerInput.bind(this),\n                unregisterInput: this.unregisterInput.bind(this),\n            },\n        };\n    }\n\n    componentDidUpdate({ formValidityState: prevFormValidityState }) {\n        const { formValidityState } = this.props;\n        const { registeredInputs } = this.state;\n\n        if (formValidityState !== prevFormValidityState) {\n            Object.keys(formValidityState).forEach(key => {\n                if (registeredInputs[key]) {\n                    registeredInputs[key](formValidityState[key]);\n                }\n            });\n        }\n    }\n\n    onChange = ({ currentTarget }) => {\n        if (this.props.onChange) {\n            const formData = serialize(currentTarget, {\n                hash: true,\n                empty: true,\n            });\n            this.props.onChange(formData);\n        }\n    };\n\n    onSubmit = event => {\n        const form = event.target;\n        event.preventDefault();\n        const isValid = form.checkValidity();\n        const { onInvalidSubmit, onValidSubmit } = this.props;\n        const { registeredInputs } = this.state;\n\n        if (isValid) {\n            const formData = serialize(form, { hash: true, empty: true });\n            onValidSubmit(formData);\n        } else {\n            const formValidityState = getFormValidityState(form);\n\n            // Push form validity state to inputs so errors are shown on submit\n            Object.keys(formValidityState).forEach(\n                key => registeredInputs[key] && registeredInputs[key](formValidityState[key].validityState),\n            );\n\n            if (onInvalidSubmit) {\n                onInvalidSubmit(formValidityState);\n            }\n        }\n    };\n\n    registerInput = (name, setValidityStateHandler) => {\n        const { registeredInputs } = this.state;\n\n        if (registeredInputs[name]) {\n            throw new Error(`Input '${name}' is already registered.`);\n        }\n\n        const nextState = this.state;\n        nextState.registeredInputs[name] = setValidityStateHandler;\n        this.setState(nextState);\n    };\n\n    unregisterInput = name => {\n        const nextState = this.state;\n        delete nextState.registeredInputs[name];\n        this.setState(nextState);\n    };\n\n    render() {\n        const { children } = this.props;\n        return (\n            <form noValidate onChange={this.onChange} onSubmit={this.onSubmit}>\n                {children}\n            </form>\n        );\n    }\n}\n\nexport default Form;\n","import * as React from 'react';\nimport Button, { ButtonProps } from '../button/Button';\n\nconst PrimaryButton = ({ children, className = '', ...rest }: Partial<ButtonProps>) => (\n    <Button className={`btn-primary ${className}`} {...rest}>\n        {children}\n    </Button>\n);\n\nexport default PrimaryButton;\n","// @flow\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport noop from 'lodash/noop';\nimport throttle from 'lodash/throttle';\n\nimport './ScrollWrapper.scss';\n\ntype Props = {\n    /** Contents for this element */\n    children: React.Node,\n    /** Optional class name(s) to pass thru to the component */\n    className?: string,\n    /** Optional function to get the scrollRef in parent components */\n    scrollRefFn: (?HTMLElement) => void,\n    /** Optional prop to set the shadow size, like background-size ('cover' or 'contain') */\n    shadowSize: 'cover' | 'contain',\n};\n\ntype State = {\n    shouldShowBottomScrollShadow: boolean,\n    shouldShowTopScrollShadow: boolean,\n};\n\nclass ScrollWrapper extends React.Component<Props, State> {\n    static defaultProps = {\n        scrollRefFn: noop,\n        shadowSize: 'cover',\n    };\n\n    state = {\n        shouldShowTopScrollShadow: false,\n        shouldShowBottomScrollShadow: false,\n    };\n\n    constructor(props: Props) {\n        super(props);\n\n        this.observer = new MutationObserver(this.throttledOnContentScroll);\n    }\n\n    componentDidMount = () => {\n        const newState = this.getScrollShadowState();\n        this.setState(newState);\n\n        if (this.scrollRef) {\n            this.scrollRef.addEventListener('transitionend', this.throttledOnContentScroll);\n\n            // Apparently, flow only allows for one truthy check per command, so I have to either:\n            // 1) duplicate this check per call, or\n            // 2) nest if checks (_slightly more performant_)\n            if (this.scrollRef) {\n                this.observer.observe(this.scrollRef, {\n                    attributes: true,\n                    childlist: true,\n                    subtree: true,\n                });\n            }\n        }\n    };\n\n    componentWillUnmount() {\n        this.observer.disconnect();\n\n        if (this.scrollRef) {\n            this.scrollRef.removeEventListener('transitionend', this.throttledOnContentScroll);\n        }\n    }\n\n    onContentScroll = (): void => {\n        const newState = this.getScrollShadowState();\n        this.setState(newState);\n    };\n\n    getScrollShadowState = () => {\n        const { scrollTop, scrollHeight, clientHeight } = this.scrollRef || {};\n        const newState = {};\n\n        if (scrollTop > 0 && scrollTop < scrollHeight - clientHeight) {\n            newState.shouldShowTopScrollShadow = true;\n            newState.shouldShowBottomScrollShadow = true;\n        }\n\n        if (scrollTop === 0) {\n            newState.shouldShowTopScrollShadow = false;\n        }\n\n        if (scrollTop < scrollHeight - clientHeight) {\n            newState.shouldShowBottomScrollShadow = true;\n        }\n\n        if (scrollTop === scrollHeight - clientHeight) {\n            newState.shouldShowBottomScrollShadow = false;\n        }\n\n        return newState;\n    };\n\n    observer: MutationObserver;\n\n    scrollRef: ?HTMLDivElement = null;\n\n    // Throttle to 10 fps\n    throttledOnContentScroll = throttle(this.onContentScroll, 100);\n\n    render() {\n        const { children, className = '', scrollRefFn, shadowSize, ...rest } = this.props;\n        const { shouldShowTopScrollShadow, shouldShowBottomScrollShadow } = this.state;\n\n        const classes = classNames(`scroll-container`, className, {\n            'is-showing-top-shadow': shouldShowTopScrollShadow,\n            'is-showing-bottom-shadow': shouldShowBottomScrollShadow,\n        });\n\n        return (\n            <div className={classes} {...rest}>\n                <div\n                    className={classNames('scroll-wrap-container', `style--${shadowSize}`)}\n                    onScroll={this.throttledOnContentScroll}\n                    ref={el => {\n                        this.scrollRef = el;\n                        scrollRefFn(el);\n                    }}\n                >\n                    {children}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default ScrollWrapper;\n","// extracted by mini-css-extract-plugin","// @flow\n\nexport { default } from './ScrollWrapper';\n","// @flow\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport uniqueId from 'lodash/uniqueId';\n\nimport { scrollIntoView } from '../../utils/dom';\nimport ScrollWrapper from '../scroll-wrapper';\nimport { OVERLAY_WRAPPER_CLASS } from '../../constants';\n\nimport './SelectorDropdown.scss';\n\nfunction stopDefaultEvent(event) {\n    event.preventDefault();\n    event.stopPropagation();\n}\n\ntype Props = {\n    /** Options to render in the dropdown filtered based on the input text */\n    children?: React.Node,\n    /** CSS class for the wrapper div */\n    className?: string,\n    /** Index at which to insert the divider */\n    dividerIndex?: number,\n    /** Options to keep the results always open */\n    isAlwaysOpen?: boolean,\n    /** Function called on keyboard \"Enter\" event only if enter does not trigger selection */\n    onEnter?: (event: SyntheticKeyboardEvent<HTMLDivElement>) => void,\n    /** Function called with the index of the selected option and the event (selected by keyboard or click) */\n    onSelect?: Function,\n    /** Optional title of the overlay */\n    overlayTitle?: string,\n    /** A CSS selector matching the element to use as a boundary when auto-scrolling dropdown elements into view. When not provided, boundary will be determined by scrollIntoView utility function */\n    scrollBoundarySelector?: string,\n    /** Component containing an input text field and takes `inputProps` to spread onto the input element */\n    selector: React.Element<any>,\n    /** Boolean to indicate whether the dropdown should scroll */\n    shouldScroll?: boolean,\n    /** Determines whether or not the first item is highlighted automatically when the dropdown opens */\n    shouldSetActiveItemOnOpen?: boolean,\n    /** Optional title text that will be rendered above the list */\n    title?: React.Node,\n};\n\ntype State = {\n    activeItemID: string | null,\n    activeItemIndex: number,\n    shouldOpen: boolean,\n};\n\nclass SelectorDropdown extends React.Component<Props, State> {\n    constructor(props: Props) {\n        super(props);\n\n        this.listboxID = uniqueId('listbox');\n\n        this.state = {\n            activeItemID: null,\n            activeItemIndex: -1,\n            shouldOpen: false,\n        };\n\n        this.selectorDropdownRef = React.createRef();\n    }\n\n    componentDidUpdate({ shouldSetActiveItemOnOpen, children }: Props) {\n        if (this.haveChildrenChanged(children)) {\n            // For UX purposes filtering the items is equivalent\n            // to re-opening the dropdown. In such cases we highlight\n            // the first item when configured to do so\n            if (shouldSetActiveItemOnOpen) {\n                this.setActiveItem(0);\n            } else {\n                this.resetActiveItem();\n            }\n        }\n    }\n\n    componentWillUnmount() {\n        // just in case event listener was added during openDropdown() but the component\n        // gets unmounted without closeDropdown()\n        document.removeEventListener('click', this.handleDocumentClick, true);\n    }\n\n    setActiveItem = (index: number) => {\n        this.setState({ activeItemIndex: index });\n        if (index === -1) {\n            this.setActiveItemID(null);\n        }\n    };\n\n    setActiveItemID = (id: string | null) => {\n        const { scrollBoundarySelector } = this.props;\n        const itemEl = id ? document.getElementById(id) : null;\n\n        const scrollOptions: Object = {\n            block: 'nearest',\n        };\n\n        // Allow null in case we want to clear the default\n        // boundary from scrollIntoView\n        if (typeof scrollBoundarySelector !== 'undefined') {\n            scrollOptions.boundary = document.querySelector(scrollBoundarySelector);\n        }\n\n        this.setState({ activeItemID: id }, () => {\n            scrollIntoView(itemEl, scrollOptions);\n        });\n    };\n\n    listboxID: string;\n\n    selectorDropdownRef: { current: null | HTMLDivElement };\n\n    haveChildrenChanged = (prevChildren?: React.Node) => {\n        const { children } = this.props;\n        const childrenCount = React.Children.count(children);\n        const prevChildrenCount = React.Children.count(prevChildren);\n\n        if (childrenCount !== prevChildrenCount) {\n            return true;\n        }\n\n        if (childrenCount === 0) {\n            return false;\n        }\n\n        const childrenKeys = React.Children.map(children, child => child.key);\n        const prevChildrenKeys = React.Children.map(prevChildren, child => child.key);\n        return childrenKeys.some((childKey, index) => childKey !== prevChildrenKeys[index]);\n    };\n\n    resetActiveItem = () => {\n        this.setState({\n            activeItemID: null,\n            activeItemIndex: -1,\n        });\n    };\n\n    handleFocus = () => {\n        this.openDropdown();\n    };\n\n    handleDocumentClick = (event: MouseEvent) => {\n        const container = this.selectorDropdownRef.current;\n        const isInside =\n            (container && event.target instanceof Node && container.contains(event.target)) ||\n            container === event.target;\n\n        if (!isInside) {\n            this.closeDropdown();\n        }\n    };\n\n    handleInput = () => {\n        this.openDropdown();\n    };\n\n    handleKeyDown = (event: SyntheticKeyboardEvent<HTMLDivElement>) => {\n        const { children, isAlwaysOpen, onEnter } = this.props;\n        const { activeItemIndex } = this.state;\n        const childrenCount = React.Children.count(children);\n\n        switch (event.key) {\n            case 'ArrowDown':\n                if (this.isDropdownOpen()) {\n                    if (childrenCount) {\n                        stopDefaultEvent(event);\n                    }\n                    const nextIndex = activeItemIndex === childrenCount - 1 ? -1 : activeItemIndex + 1;\n                    this.setActiveItem(nextIndex);\n                } else {\n                    this.openDropdown();\n                }\n                break;\n            case 'ArrowUp':\n                if (this.isDropdownOpen()) {\n                    if (childrenCount) {\n                        stopDefaultEvent(event);\n                    }\n                    const prevIndex = activeItemIndex === -1 ? childrenCount - 1 : activeItemIndex - 1;\n                    this.setActiveItem(prevIndex);\n                } else {\n                    this.openDropdown();\n                }\n                break;\n            case 'Enter':\n                if (activeItemIndex !== -1 && this.isDropdownOpen()) {\n                    stopDefaultEvent(event);\n                    this.selectItem(activeItemIndex, event);\n                } else if (onEnter) {\n                    onEnter(event);\n                }\n                break;\n            case 'Tab':\n                if (this.isDropdownOpen()) {\n                    this.closeDropdown();\n                    this.resetActiveItem();\n                }\n                break;\n            case 'Escape':\n                if (!isAlwaysOpen && this.isDropdownOpen()) {\n                    stopDefaultEvent(event);\n                    this.closeDropdown();\n                    this.resetActiveItem();\n                }\n                break;\n            default:\n                this.handleInput();\n        }\n    };\n\n    isDropdownOpen = () => {\n        const { children, isAlwaysOpen } = this.props;\n        const { shouldOpen } = this.state;\n        const childrenCount = React.Children.count(children);\n        return childrenCount > 0 && (!!isAlwaysOpen || shouldOpen);\n    };\n\n    openDropdown = () => {\n        if (!this.state.shouldOpen) {\n            const { shouldSetActiveItemOnOpen } = this.props;\n\n            if (shouldSetActiveItemOnOpen) {\n                this.setActiveItem(0);\n            }\n            this.setState({ shouldOpen: true });\n            document.addEventListener('click', this.handleDocumentClick, true);\n        }\n    };\n\n    closeDropdown = () => {\n        this.setState({ shouldOpen: false });\n        document.removeEventListener('click', this.handleDocumentClick, true);\n    };\n\n    selectItem = (index: number, event: SyntheticEvent<>) => {\n        const { onSelect } = this.props;\n        if (onSelect) {\n            onSelect(index, event);\n        }\n        this.closeDropdown();\n    };\n\n    render() {\n        const { listboxID, selectItem, setActiveItem, setActiveItemID, closeDropdown } = this;\n        const { dividerIndex, overlayTitle, children, className, title, selector, shouldScroll } = this.props;\n        const { activeItemID, activeItemIndex } = this.state;\n        const isOpen = this.isDropdownOpen();\n        const inputProps: Object = {\n            'aria-activedescendant': activeItemID,\n            'aria-autocomplete': 'list',\n            'aria-expanded': isOpen,\n            role: 'combobox',\n        };\n        if (isOpen) {\n            inputProps['aria-owns'] = listboxID;\n        }\n\n        const list = (\n            <ul\n                className={classNames('overlay', overlayTitle ? overlayTitle.toLowerCase() : '')}\n                id={listboxID}\n                role=\"listbox\"\n            >\n                {overlayTitle && <h5 className=\"SelectorDropdown-title\">{overlayTitle}</h5>}\n                {React.Children.map(children, (item, index) => {\n                    const itemProps: Object = {\n                        onClick: event => {\n                            selectItem(index, event);\n                        },\n                        /* preventDefault on mousedown so blur doesn't happen before click */\n                        onMouseDown: event => {\n                            event.preventDefault();\n                        },\n                        onMouseEnter: () => {\n                            setActiveItem(index);\n                        },\n                        closeDropdown: () => {\n                            closeDropdown();\n                        },\n                        setActiveItemID,\n                    };\n\n                    if (index === activeItemIndex) {\n                        itemProps.isActive = true;\n                    }\n\n                    const hasDivider = index === dividerIndex;\n\n                    return (\n                        <>\n                            {hasDivider && <hr className=\"SelectorDropdown-divider\" />}\n                            {React.cloneElement(item, itemProps)}\n                        </>\n                    );\n                })}\n            </ul>\n        );\n\n        // change onPaste back to onInput when React fixes this IE11 bug: https://github.com/facebook/react/issues/7280\n\n        // We're simulating the blur event with the tab key listener and the\n        // click listener as a proxy because IE will trigger a blur when\n        // using the scrollbar in the dropdown which indavertently closes the dropdown.\n        return (\n            // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n            <div\n                className={classNames('SelectorDropdown', className)}\n                onFocus={this.handleFocus}\n                onKeyDown={this.handleKeyDown}\n                onPaste={this.handleInput}\n                ref={this.selectorDropdownRef}\n            >\n                {React.cloneElement(selector, { inputProps })}\n                {isOpen && (\n                    <div className={`${OVERLAY_WRAPPER_CLASS} is-visible`}>\n                        {title}\n                        {shouldScroll ? <ScrollWrapper>{list}</ScrollWrapper> : list}\n                    </div>\n                )}\n            </div>\n        );\n    }\n}\n\nexport default SelectorDropdown;\n","// extracted by mini-css-extract-plugin","// @flow\nexport { default } from './SelectorDropdown';\n","/* eslint-disable react/jsx-sort-props */\nimport * as React from 'react';\nimport * as vars from '../../styles/variables';\nimport AccessibleSVG, { SVGProps } from '../../components/accessible-svg/AccessibleSVG';\n\n/**\n * This is an auto-generated component and should not be edited\n * manually in contributor pull requests.\n *\n * If you have problems with this component:\n * - https://github.com/box/box-ui-elements/issues/new?template=Bug_report.md\n *\n * If there are missing features in this component:\n * - https://github.com/box/box-ui-elements/issues/new?template=Feature_request.md\n */\n\nconst Alert16 = (props: SVGProps) => (\n    <AccessibleSVG width={16} height={16} viewBox=\"0 0 16 16\" {...props}>\n        <path\n            fill={vars.bdlGray50}\n            fillRule=\"evenodd\"\n            d=\"M8 1a7 7 0 110 14A7 7 0 018 1zm0 10a1 1 0 100 2 1 1 0 000-2zm0-8a1 1 0 00-1 1v5a1 1 0 002 0V4a1 1 0 00-1-1z\"\n        />\n    </AccessibleSVG>\n);\n\nexport default Alert16;\n","/* eslint-disable react/jsx-sort-props */\nimport * as React from 'react';\nimport * as vars from '../../styles/variables';\nimport AccessibleSVG, { SVGProps } from '../../components/accessible-svg/AccessibleSVG';\n\n/**\n * This is an auto-generated component and should not be edited\n * manually in contributor pull requests.\n *\n * If you have problems with this component:\n * - https://github.com/box/box-ui-elements/issues/new?template=Bug_report.md\n *\n * If there are missing features in this component:\n * - https://github.com/box/box-ui-elements/issues/new?template=Feature_request.md\n */\n\nconst Calendar16 = (props: SVGProps) => (\n    <AccessibleSVG width={16} height={16} viewBox=\"0 0 16 16\" {...props}>\n        <g fill={vars.bdlGray50} fillRule=\"evenodd\">\n            <path d=\"M13.436 0c.892 0 1.215.093 1.54.267.327.174.583.43.757.756.174.326.267.65.267 1.54v10.873c0 .892-.093 1.215-.267 1.54-.174.327-.43.583-.756.757-.326.174-.65.267-1.54.267H2.563c-.892 0-1.215-.093-1.54-.267a1.817 1.817 0 01-.757-.756C.093 14.65 0 14.327 0 13.437V2.563c0-.892.093-1.215.267-1.54.174-.327.43-.583.756-.757C1.35.093 1.673 0 2.563 0h10.873zM13 4H3a1 1 0 00-1 1v8a1 1 0 001 1h10a1 1 0 001-1V5a1 1 0 00-1-1z\" />\n            <g transform=\"translate(3 5.5)\">\n                <rect width={1.5} height={1.5} x={2.833} rx={0.5} />\n                <rect width={1.5} height={1.5} x={5.667} rx={0.5} />\n                <rect width={1.5} height={1.5} x={8.5} rx={0.5} />\n                <rect width={1.5} height={1.5} y={2.5} rx={0.5} />\n                <rect width={1.5} height={1.5} x={2.83} y={2.5} rx={0.5} />\n                <rect width={1.5} height={1.5} x={5.67} y={2.5} rx={0.5} />\n                <rect width={1.5} height={1.5} x={8.5} y={2.5} rx={0.5} />\n                <rect width={1.5} height={1.5} y={5} rx={0.5} />\n                <rect width={1.5} height={1.5} x={2.83} y={5} rx={0.5} />\n            </g>\n        </g>\n    </AccessibleSVG>\n);\n\nexport default Calendar16;\n","/* eslint-disable react/jsx-sort-props */\nimport * as React from 'react';\nimport * as vars from '../../styles/variables';\nimport AccessibleSVG, { SVGProps } from '../../components/accessible-svg/AccessibleSVG';\n\n/**\n * This is an auto-generated component and should not be edited\n * manually in contributor pull requests.\n *\n * If you have problems with this component:\n * - https://github.com/box/box-ui-elements/issues/new?template=Bug_report.md\n *\n * If there are missing features in this component:\n * - https://github.com/box/box-ui-elements/issues/new?template=Feature_request.md\n */\n\nconst ClearBadge16 = (props: SVGProps) => (\n    <AccessibleSVG width={16} height={16} viewBox=\"0 0 16 16\" {...props}>\n        <path\n            fill={vars.bdlGray50}\n            fillRule=\"evenodd\"\n            d=\"M7.19 8L4.46 5.27a.572.572 0 01.81-.81L8 7.19l2.73-2.73a.572.572 0 01.81.81L8.81 8l2.73 2.73a.572.572 0 01-.81.81L8 8.81l-2.73 2.73a.572.572 0 01-.81-.81L7.19 8zm5.76 4.95a7 7 0 10-9.9-9.9 7 7 0 009.9 9.9z\"\n        />\n    </AccessibleSVG>\n);\n\nexport default ClearBadge16;\n","import * as React from 'react';\n\nimport AccessibleSVG from '../accessible-svg';\n\nimport { Icon } from '../iconTypes';\n\nconst IconClose = ({ className = '', color = '#000000', height = 24, title, width = 24 }: Icon) => (\n    <AccessibleSVG\n        className={`icon-close ${className}`}\n        height={height}\n        title={title}\n        viewBox=\"0 0 24 24\"\n        width={width}\n    >\n        <path\n            className=\"fill-color\"\n            d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n            fill={color}\n        />\n        <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n    </AccessibleSVG>\n);\n\nexport default IconClose;\n"],"sourceRoot":""}